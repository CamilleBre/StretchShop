(function(e){function t(t){for(var a,n,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)n=o[u],r[n]&&m.push(r[n][0]),r[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},i=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"05fc":function(e,t,s){},"10a8":function(e,t,s){"use strict";var a=s("c337"),r=s.n(a);r.a},"1f28":function(e,t,s){},"2e51":function(e,t,s){},3150:function(e,t,s){},"4b7e":function(e,t,s){"use strict";var a=s("3150"),r=s.n(a);r.a},"4f16":function(e,t,s){"use strict";var a=s("f6f2"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("28a5"),s("6b54"),s("cadf"),s("551c"),s("f751"),s("097d");var a=s("2b0e"),r=s("8c4f"),i=s("8a03"),n=s.n(i),o=(s("5abe"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("app-header"),s("main",[s("router-view",{key:e.$route.fullPath})],1),s("footer",{staticClass:"footer"})],1)}),l=[],c=(s("a481"),s("ac6a"),s("456d"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("header",{staticClass:"header"},[s("nav",{staticClass:"navbar is-fixed-top",attrs:{role:"navigation","aria-label":"main navigation"}},[s("div",{staticClass:"container"},[s("div",{staticClass:"navbar-brand"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/",tag:"a","active-class":"is-active",exact:""}},[s("img",{staticClass:"logo",attrs:{src:"/assets/_site/logo-small-160.png"}})]),e._m(0)],1),s("div",{staticClass:"navbar-menu",attrs:{id:"navbarBasicExample"}},[s("div",{staticClass:"navbar-start"},[s("router-link",{staticClass:"navbar-item",attrs:{to:"/",tag:"a","active-class":"is-active",exact:"",translate:"yes"}},[e._v("Home")]),s("a",{staticClass:"navbar-item",attrs:{translate:"yes"}},[e._v("\n          Info\n        ")]),s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"productsHome"},tag:"a","active-class":"is-active",exact:"",translate:"yes"}},[e._v("Products")]),s("router-link",{staticClass:"navbar-item",attrs:{to:{name:"servicesHome"},tag:"a","active-class":"is-active",exact:"",translate:"yes"}},[e._v("Services")]),s("a",{staticClass:"navbar-item",attrs:{translate:"yes"}},[e._v("\n          Articles\n        ")])],1),s("div",{staticClass:"navbar-end"},[s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e.$store.state.language?s("router-link",{staticClass:"navbar-link",attrs:{to:"#",tag:"a","active-class":"is-active"}},[e._v("\n              "+e._s(e.$store.state.language&&e.$store.state.language.code?e.$store.state.language.code:"")+"\n              /\n              "+e._s(e.$store.state.currency&&e.$store.state.currency.symbol?e.$store.state.currency.symbol:"")+"\n            ")]):e._e(),e.$store.state.coredata&&e.$store.state.coredata.langs?s("div",{staticClass:"navbar-dropdown"},[e._l(e.$store.state.coredata.langs,function(t,a){return s("a",{key:a+"langs",staticClass:"navbar-item",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.setLang(t.code)}}},[e._v("\n                "+e._s(t.name)+"\n              ")])}),s("hr",{staticClass:"navbar-divider"}),e._l(e.$store.state.coredata.currencies,function(t,a){return s("a",{key:a+"-currecies",staticClass:"navbar-item",on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.setCurrency(t.code)}}},[e._v("\n                "+e._s(t.code)+"\n              ")])})],2):e._e()],1),s("div",{staticClass:"navbar-item userCart",class:{"has-dropdown":e.hasCart,"is-hoverable":e.hasCart}},[null!=e.$store.state.cart?s("router-link",{staticClass:"navbar-link userCartLink",attrs:{to:{name:"cart"},tag:"a","active-class":"is-active"}},[s("span",{attrs:{translate:"yes"}},[e._v("Cart")]),e.$store.state.cart&&e.$store.state.cart.itemsAmountCount&&e.$store.state.cart.itemsAmountCount>0?s("span",{staticClass:"cartItemsCount"},[e._v("\n                  "+e._s(e.$store.state.cart.itemsAmountCount)+"\n                ")]):s("span",{staticClass:"cartItemsCount"},[e._v("\n                  0\n                ")]),null!=e.$store.state.cart?s("div",{staticClass:"navbar-dropdown"},[s("div",{staticClass:"navbar-item"},[s("table",{staticClass:"table"},[s("tbody",e._l(e.$store.state.cart.items,function(t,a){return s("tr",{key:a+"-cart"},[s("th",[e._v(e._s(t.name[e.$store.state.language.code]))]),s("td",[e._v("x"+e._s(t.amount))]),s("td",[e._v(e._s(e.$store.state.numeral(t.price).format("0 0.00")))]),s("td",[s("a",{on:{click:function(s){return s.stopPropagation(),s.preventDefault(),e.clearCart(t._id)}}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])}),0)])]),e.$store.state.cart&&null!=e.$store.state.cart.priceTotal?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Total price")]),e._v(" "+e._s(e.$store.state.numeral(e.$store.state.cart.priceTotal).format("0 0.00"))+"\n                  ")]):e._e(),s("hr",{staticClass:"navbar-divider"}),null!=e.$store.state.cart?s("router-link",{staticClass:"button is-success",attrs:{to:{name:"cart"},tag:"a","active-class":"is-active",translate:"yes"}},[e._v("Go to Cart")]):e._e()],1):e._e()]):e._e()],1),s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[e.$store.state.user.logged?s("router-link",{staticClass:"navbar-link",attrs:{to:{name:"me"},tag:"a","active-class":"is-active"}},[s("div",{staticClass:"user--avatar-wrapper",style:{"background-image":"url("+e.userProfileImage+")"}}),e._v("\n              "+e._s(e.$store.state.user&&e.$store.state.user.profile&&null!=e.$store.state.user.profile&&""!=e.$store.state.user.profile.username.toString().trim()?e.$store.state.user.profile.username:"Profile")+"\n            ")]):e._e(),e._m(1)],1),s("div",{staticClass:"buttons"},[e.$store.state.user.logged&&1==e.$store.state.user.logged?e._e():s("router-link",{staticClass:"navbar-item button is-primary",attrs:{to:{name:"register"},tag:"a","active-class":"is-active"}},[s("strong",{attrs:{translate:"yes"}},[e._v("Sign up")])]),e.$store.state.user.logged&&1==e.$store.state.user.logged?e._e():s("router-link",{staticClass:"navbar-item button is-light",attrs:{to:{name:"login"},tag:"a","active-class":"is-active"}},[s("span",{attrs:{translate:"yes"}},[e._v("Log in")])]),e.$store.state.user.logged&&1==e.$store.state.user.logged?s("a",{staticClass:"button is-light",attrs:{translate:"yes"},on:{click:e.userLogout}},[e._v("Logout")]):e._e()],1)])])])])])}),d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"navbar-burger burger",attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"}},[s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}}),s("span",{attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"navbar-dropdown"},[s("a",{staticClass:"navbar-item"},[s("span",{attrs:{translate:"yes"}},[e._v("Orders")])]),s("a",{staticClass:"navbar-item"},[s("span",{attrs:{translate:"yes"}},[e._v("Articles")])])])}],u={name:"appHeader",data:function(){return{userLogged:!1,cartItemsCount:0}},computed:{userProfileImage:function(){return this.$store.getters.getProfileImage()}},mounted:function(){this.getCart()},methods:{userLogout:function(){var e=this;this.$store.state.user.logged=!1,this.$store.state.user.token=null,this.$store.state.user.profile=null,this.$httpc.defaults.headers.common["Authorization"]=null,localStorage.removeItem("token"),sessionStorage.removeItem("token"),this.$httpc.get("users/logout").then(function(t){e.$router.push({name:"login"})})},getCart:function(){var e=this;this.$httpc.get("cart").then(function(t){t.data&&e.$store.dispatch("setCart",t.data)}).catch(function(e){return console.log(e),null}).then(function(){return null})},hasCart:function(){return this.$store.state.cart&&null!=this.$store.state.cart&&this.$store.state.cart.items&&this.$store.state.cart.items.length>0},clearCart:function(e){var t=this;e="undefined"!==typeof e?e:null;var s="";null!=e&&""!=e.toString().trim()&&(s="/"+e),this.$httpc.delete("cart"+s).then(function(e){console.log(e.data),e.data&&t.$store.dispatch("setCart",e.data)}).catch(function(e){return console.log(e),null}).then(function(){return null})},setLang:function(e){var t=this,s=this;this.$store.state.coredata&&this.$store.state.coredata.lang&&this.$store.state.coredata.lang.code&&(!this.$store.state.translates||this.$store.state.translates&&"undefined"==typeof this.$store.state.translates[e]||this.$store.state.translates[e].length<1)&&e!=this.$store.state.coredata.lang.code?this.$httpc.get("/coredata/translation?lang="+e).then(function(a){a.data&&(s.$store.dispatch("setTranslates",a.data),s.$store.dispatch("setLanguage",e),localStorage.setItem("language",e),s.$parent.translateContent(t.$store.getters.getTranslates))}):(this.$store.dispatch("setLanguage",e),localStorage.setItem("language",e),this.$parent.translateContent(this.$store.getters.getTranslates))},setCurrency:function(e){this.$store.dispatch("setCurrency",e)}}},m=u,v=(s("df4c"),s("2877")),p=Object(v["a"])(m,c,d,!1,null,null,null),f=p.exports,h={name:"app",components:{"app-header":f},created:function(){},watch:{$route:function(e,t){"undefined"!==typeof translateContent&&this.$store.state.language.code==this.$store.state.coredata.lang.code&&translateContent(this.$store.getters.getTranslates)}},events:{changeRouterLanguageEvent:function(e){return this.changeRouterLanguage(newLanguage)},translateContentEvent:function(){return this.translateContent(this.$store.getters.getTranslates)}},methods:{changeRouterLanguage:function(e){if(this.$router.options&&this.$router.options.routes&&this.$router.options.routes.length>0)for(var t=0;t<this.$router.options.routes.length;t++)if("/"==this.$router.options.routes[t].path)this.$router.options.routes[t].redirect="/"+e;else{var s=this.$router.options.routes[t].path.split("/");null!=s&&s.length>1&&(s[1]=e,this.$router.options.routes[t].path=s.join("/"))}},translateContent:function(e){var t=this.$store.getters.getLanguage,s="";if(this.$store.state.coredata&&this.$store.state.coredata.lang&&this.$store.state.coredata.lang.code&&(s=this.$store.state.coredata.lang.code),e&&null!=e&&e&&(e[t]&&e[t].length>0||t==s)){var a=!1;null!=t&&t==s&&(t=Object.keys(e)[0],a=!0),console.log("translateContent 3",a,e);for(var r=0;r<e[t].length;r++)if("text"===e[t][r].type){var i=e[t][r].selector.replace("> router-link.","> a.").replace("> template > ",""),n=this.$el.querySelector(i);n&&null!=n?(console.log(null!=n,e[t][r].original+"--\x3e"+e[t][r].string," || selector: "+i),n.textContent=a?e[t][r].original:e[t][r].string):console.log(null!=n,e[t][r].original," || selector: "+i)}}}}},g=h,y=(s("5c0b"),Object(v["a"])(g,o,l,!1,null,null,null)),C=y.exports,b=s("2f62"),_=s("6612"),$=s.n(_);a["default"].use(b["a"]);var P=new b["a"].Store({namespace:!0,state:{user:{logged:!1,token:null,remember:!1,profile:null,avatar:null},language:{code:"en",longCode:"en-US",name:"English"},currency:{code:"EUR",symbol:"€",ratio:1},coredata:null,cart:null,order:null,chunk:function(e,t){for(var s=[],a=0;a<e.length;a+=t)s.push(e.slice(a,a+t));return s},numeral:$.a,translates:null},getters:{getCart:function(e){return"undefined"!==typeof e.cart&&e.cart&&null!=e.cart?e.cart:null},getUserProfile:function(e){return"undefined"!==typeof e.user&&e.user&&null!=e.user&&e.user.profile&&null!=e.user.profile?(e.user.profile.addressInvoice&&null!=e.user.profile.addressInvoice||(e.user.profile.addressInvoice={type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:"",email:""}),e.user.profile):{username:"",email:"",bio:"",image:"",addressInvoice:{type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:"",email:""},addressesDelivery:[]}},getUserInvoiceAddress:function(e){return"undefined"!==typeof e.user&&e.user&&null!=e.user&&e.user.profile&&null!=e.user.profile?(e.user.profile.addressInvoice&&null!=e.user.profile.addressInvoice||(e.user.profile.addressInvoice={type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:"",email:""}),e.user.profile.addressInvoice):{type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:"",email:""}},getOrder:function(e){return"undefined"!==typeof e.order&&e.order&&null!=e.order?e.order:null},getLanguage:function(e){return"undefined"!==typeof e.language&&e.language&&null!=e.language&&e.language.code?e.language.code:null},getTranslates:function(e){return e.translates},getProfileImage:function(e){return function(){return e.user.avatar}}},mutations:{setCart:function(e,t){e.cart=t},setUserInvoiceAddress:function(e,t){e.user.profile||(e.user.profile={}),e.user.profile.addressInvoice=t,""==e.user.profile.email&&""!=t.email&&(e.user.profile.email=t.email)},setUserProfile:function(e,t){var s={username:null,email:null,bio:null,image:null,addressInvoice:null,addressesDelivery:[],settings:{}};if(t.username&&(s.username=t.username),t.email&&(s.email=t.email),t.bio&&(s.bio=t.bio),t.addresses&&t.addresses.length>0){var a=!1;t.addresses.forEach(function(e){e.type&&"invoice"===e.type&&!a?s.addressInvoice=e:e.type&&"delivery"===e.type&&s.addressesDelivery.push(e)})}t.bio&&(s.bio=t.bio),t.settings&&(s.settings=t.settings),e.user.profile={},Object.keys(s).forEach(function(t){s[t]&&null!==s[t]&&(e.user.profile[t]=s[t])})},setUserProfileImage:function(e,t){var s="https://stretchshop.app/static";e.coredata&&e.coredata.settings&&e.coredata.settings.assets&&e.coredata.settings.assets.url&&(s=e.coredata.settings.assets.url),t&&(e.user&&e.user.profile&&e.user.profile.image&&(e.user.profile.image=t),e.user.avatar=s+"/users/profile/"+t+"?"+(new Date).getTime())},setCoreData:function(e,t){e.language=t.language,e.coredata=t.coredata},setOrder:function(e,t){e.order=t},addNewDeliveryAddress:function(e,t){e.user.profile.addressesDelivery.unshift(t)},removeDeliveryAddress:function(e,t){e.user.profile.addressesDelivery.splice(t,1)},setLanguage:function(e,t){e.language=t},setCurrency:function(e,t){e.currency=t},setTranslates:function(e,t){e.translates=t}},actions:{setCart:function(e,t){if(console.log("setting cart"),t&&null!=t){t.priceTotal=0;var s=0,a=0,r=0,i={types:[],subtypes:[]};t.items&&t.items.length>0&&t.items.forEach(function(e){s++,a+=e.amount,r+=e.price*e.amount,i.types.indexOf(e.type)<0&&i.types.push(e.type),i.subtypes.indexOf(e.subtype)<0&&i.subtypes.push(e.subtype)}),t.itemsCount=s,t.itemsAmountCount=a,t.priceTotal=r,t.cartItemTypology=i,e.commit("setCart",t)}},setCoreData:function(e,t){if(t&&null!=t){var s=JSON.parse(JSON.stringify(t));t.coredata=s,t.coredata.lang&&(t.language=t.coredata.lang),e.commit("setCoreData",t)}},setUser:function(e,t){var s=e.commit;e.state;t&&null!=t&&(s("setUserProfile",t),t.image&&s("setUserProfileImage",t.image))},setUserProfileImage:function(e,t){t&&null!=t&&e.commit("setUserProfileImage",t)},setUserInvoiceAddress:function(e,t){t&&null!=t&&e.commit("setUserInvoiceAddress",t)},setOrder:function(e,t){var s=e.commit;e.state;if(t&&null!=t){var a={};t.order&&t.order.settings&&t.order.settings.deliveryMethods&&t.order.settings.deliveryMethods.length>0&&(t.order.settings.deliveryMethods.forEach(function(e){a[e.type]||(a[e.type]=[]),a[e.type].push(e)}),t.order.settings.deliveryMethodsTypes=a),s("setOrder",t)}},updateUser:function(e,t){var s=e.commit,a=e.state;t&&null!=t&&(a.user.token&&""!==a.user.token.toString().trim()&&!this._vm.$httpc.defaults.headers.common["Authorization"]&&(this._vm.$httpc.defaults.headers.common["Authorization"]="Token "+a.user.token),console.log(a.user.token),console.log(this._vm.$httpc.defaults.headers),this._vm.$httpc.put("user",{user:t}).then(function(e){e.data.user&&s("setUserProfile",e.data.user)}))},addNewDeliveryAddress:function(e,t){t&&null!=t&&e.commit("addNewDeliveryAddress",t)},removeDeliveryAddress:function(e,t){"undefined"!==typeof t&&t>-1&&e.commit("removeDeliveryAddress",t)},checkLanguage:function(e,t){e.commit;var s=e.state;if("undefined"!==typeof t&&""!==t.toString().trim()){var a=null;if(s.coredata&&s.coredata.langs&&s.coredata.langs.length>0)for(var r=0;r<s.coredata.langs.length;r++)if(s.coredata.langs[r].code==t){!0,a=s.coredata.langs[r];break}return a}return null},setLanguage:function(e,t){var s=e.commit,a=e.state;if("undefined"!==typeof t&&""!==t.toString().trim()){var r=!1,i=null;if(a.coredata&&a.coredata.langs&&a.coredata.langs.length>0)for(var n=0;n<a.coredata.langs.length;n++)if(a.coredata.langs[n].code==t){r=!0,i=a.coredata.langs[n];break}r&&s("setLanguage",i)}},setCurrency:function(e,t){var s=e.commit,a=e.state;if("undefined"!==typeof t&&""!==t.toString().trim()){var r=!1,i=null;if(a.coredata&&a.coredata.currencies&&a.coredata.currencies.length>0)for(var n=0;n<a.coredata.currencies.length;n++)if(a.coredata.currencies[n].code==t){r=!0,i=a.coredata.currencies[n];break}r&&s("setCurrency",i)}},setTranslates:function(e,t){t&&null!=t&&e.commit("setTranslates",t)}}}),x=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},w=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Is your business ready to grow?")]),s("img",{attrs:{alt:"StretchShop logo",src:"/assets/_site/logo-small-160.png"}})])}],A={name:"Homepage",props:{msg:String},created:function(){console.log(this.$store.state.order)}},D=A,I=(s("66fd"),Object(v["a"])(D,x,w,!1,null,"6799ed34",null)),k=I.exports,S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-login"},[e._m(0),s("div",{staticClass:"column is-4 is-offset-4"},[s("form",{ref:"loginSubmit",on:{submit:function(t){return t.preventDefault(),e.userLogin(t)}}},[s("div",{staticClass:"field email"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input",attrs:{placeholder:"Email",type:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._m(1)]),s("div",{staticClass:"field password"},[s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"input",attrs:{placeholder:"Password",type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),s("div",{staticClass:"field"},[s("span",{attrs:{translate:"yes"}},[e._v("Remember my login on this computer")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.remember,expression:"remember"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.remember)?e._i(e.remember,null)>-1:e.remember},on:{change:function(t){var s=e.remember,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.remember=s.concat([i])):n>-1&&(e.remember=s.slice(0,n).concat(s.slice(n+1)))}else e.remember=r}}})]),s("button",{staticClass:"button is-medium is-primary",attrs:{type:"submit",translate:"yes"}},[e._v("Login")])])]),s("div",{staticClass:"column is-4 is-offset-4"},[s("p",{attrs:{translate:"yes"}},[e._v("Forgot your password? "),s("router-link",{attrs:{to:{name:"reset"},tag:"a"}},[e._v("Reset your password")])],1)])])},F=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1"},[e._v("Login")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"wrong credentials",translate:"yes"}},[e._v("Wrong credentials")]),s("div",{staticClass:"form-message",attrs:{"data-message":"not activated",translate:"yes"}},[e._v("Account not activated. Check your mailbox for activation email.")])])}],E={name:"UsersLogin",data:function(){return{email:"",password:"",remember:!1}},created:function(){},methods:{userLogin:function(){var e=this;this.$httpc.post("users/login",{user:{email:this.email,password:this.password}}).then(function(t){if(console.log(t),t.data.user.token){e.$store.state.user.logged=!0,e.$store.state.user.token=t.data.user.token,e.$store.state.user.remember=e.remember;var s=t.data.user;e.$store.dispatch("setUser",s),1==e.remember?localStorage.setItem("token",t.data.user.token):sessionStorage.setItem("token",t.data.user.token),e.$router.push({name:"me"})}}).catch(function(t){t.response&&t.response.data&&t.response.data.errors&&Object.keys(t.response.data.errors).length>0&&Object.keys(t.response.data.errors).forEach(function(s){var a=e.$el.querySelector(".field."+s);if(a){var r=a.querySelector('.form-messages .form-message[data-message="'+t.response.data.errors[s]+'"]');if(r&&null!=r){e.$helpers.undecorateFormField(a,"danger");var i=r.innerText;e.$helpers.decorateFormField(a,i,"danger")}}})}).then(function(e){})}}},N=E,U=Object(v["a"])(N,S,F,!1,null,"69ec472e",null),L=U.exports,M=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-login"},[e._m(0),s("div",{staticClass:"columns"},[e.sent?s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("h2",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("Your registration was successfull, we are sending you email")]),s("p",{attrs:{translate:"yes"}},[e._v("Check your mailbox for verification email (if not found check, also you spam folder).")])]):s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.userRegister(t)}}},[s("div",{staticClass:"simple-wrapper"},[e._m(1),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field username"},[s("label",{staticClass:"label"},[e._v("Username")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),e._m(2)])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field email"},[s("label",{staticClass:"label"},[e._v("Email")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"input",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}})]),e._m(3)])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field email2"},[s("label",{staticClass:"label"},[e._v("Email Confirm")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email2,expression:"user.email2"}],staticClass:"input",attrs:{type:"email",placeholder:"Email Confirm"},domProps:{value:e.user.email2},on:{input:function(t){t.target.composing||e.$set(e.user,"email2",t.target.value)}}})]),e._m(4)])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field password"},[s("label",{staticClass:"label"},[e._v("Password")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),e._m(5)])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field password2"},[s("label",{staticClass:"label"},[e._v("Password Confirm")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password2,expression:"user.password2"}],staticClass:"input",attrs:{type:"password",placeholder:"Password Confirm"},domProps:{value:e.user.password2},on:{input:function(t){t.target.composing||e.$set(e.user,"password2",t.target.value)}}})]),e._m(6)])])])]),e._m(7),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nameFirst,expression:"user.nameFirst"}],staticClass:"input",attrs:{type:"text",placeholder:"First Name"},domProps:{value:e.user.nameFirst},on:{input:function(t){t.target.composing||e.$set(e.user,"nameFirst",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.nameLast,expression:"user.nameLast"}],staticClass:"input",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:e.user.nameLast},on:{input:function(t){t.target.composing||e.$set(e.user,"nameLast",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.street,expression:"user.street"}],staticClass:"input",attrs:{type:"text",placeholder:"Street"},domProps:{value:e.user.street},on:{input:function(t){t.target.composing||e.$set(e.user,"street",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street 2")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.street2,expression:"user.street2"}],staticClass:"input",attrs:{type:"text",placeholder:"Street 2"},domProps:{value:e.user.street2},on:{input:function(t){t.target.composing||e.$set(e.user,"street2",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("ZIP")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.zip,expression:"user.zip"}],staticClass:"input",attrs:{type:"text",placeholder:"ZIP"},domProps:{value:e.user.zip},on:{input:function(t){t.target.composing||e.$set(e.user,"zip",t.target.value)}}})])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("City")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.city,expression:"user.city"}],staticClass:"input",attrs:{type:"text",placeholder:"City"},domProps:{value:e.user.city},on:{input:function(t){t.target.composing||e.$set(e.user,"city",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("State")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.state,expression:"user.state"}],staticClass:"input",attrs:{type:"text",placeholder:"State"},domProps:{value:e.user.state},on:{input:function(t){t.target.composing||e.$set(e.user,"state",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Country")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.country,expression:"user.country"}],staticClass:"input",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.user.country},on:{input:function(t){t.target.composing||e.$set(e.user,"country",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Phone")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"input",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}})])])])]),s("button",{staticClass:"button is-success"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e._v("   \n          Register\n        ")],1)])])])])},T=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1"},[e._v("Register")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12"},[e._v("\n              Required Fields\n            ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"empty",translate:"yes"}},[e._v("This field cannot be empty")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"empty",translate:"yes"}},[e._v("This field cannot be empty")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"empty",translate:"yes"}},[e._v("This field cannot be empty")]),s("div",{staticClass:"form-message",attrs:{"data-message":"not confirmed",translate:"yes"}},[e._v("Values do not match")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"empty",translate:"yes"}},[e._v("This field cannot be empty")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"empty",translate:"yes"}},[e._v("This field cannot be empty")]),s("div",{staticClass:"form-message",attrs:{"data-message":"not confirmed",translate:"yes"}},[e._v("Values do not match")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("hr")])])}],O={name:"UsersRegister",data:function(){return{sent:!1,user:{username:"",email:"",email2:"",password:"",password2:"",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:""}}},created:function(){},methods:{userRegister:function(){var e=this,t=!1,s=0,a=["username","email","password"],r=["email","password"],i=[],n=[],o=this;if(a.forEach(function(t){i.push(t),"undefined"!==typeof e.user[t]&&null!=e.user[t]&&""!=e.user[t].toString().trim()?r.indexOf(t)>-1?e.user[t]===e.user[t+"2"]?s++:n.push({name:t+"2",action:"not confirmed"}):s++:n.push({name:t,action:"empty"})}),r.forEach(function(e){i.push(e+"2")}),s==a.length&&(t=!0),t){var l={user:{username:this.user.username,email:this.user.email,password:this.user.password}};this.$store.state.language&&this.$store.state.language.code&&this.$store.state.currency&&this.$store.state.currency.code&&(l.user["settings"]={language:this.$store.state.language.code,currency:this.$store.state.currency.code}),this.$httpc.post("users/register",l,{timeout:5e3}).then(function(e){console.log(e.data),o.sent=!0}).catch(function(e){console.log(e)}).then(function(){this.$helpers.formUndecorateAndDecorateFields(i,n)})}else this.$helpers.formUndecorateAndDecorateFields(i,n)}}},q=O,j=Object(v["a"])(q,M,T,!1,null,null,null),R=j.exports,B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-me"},[e.isLogged?s("div",[e._m(0),s("div",{staticClass:"columns is-variable is-8 has-text-left"},[s("div",{staticClass:"column is-3"},[s("nav",{staticClass:"panel user-settings-nav"},[e._m(1),s("a",{staticClass:"panel-block",on:{click:function(t){return e.userComponent("UserMeInfo",t)}}},[s("span",{attrs:{translate:"yes"}},[e._v("Basic information")])]),s("a",{staticClass:"panel-block",on:{click:function(t){return e.userComponent("UserMeInvoince",t)}}},[s("span",{attrs:{translate:"yes"}},[e._v("User address")])]),s("a",{staticClass:"panel-block",on:{click:function(t){return e.userComponent("UserMeDelivery",t)}}},[s("span",{attrs:{translate:"yes"}},[e._v("Delivery addresses")])])])]),s("div",{staticClass:"column is-9"},[s(e.activeComponent,{tag:"component"})],1)])]):s("div",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Unauthorized")]),s("p",[s("span",{attrs:{translate:"yes"}},[e._v("It may help if you")]),e._v(" "),s("router-link",{attrs:{to:{name:"login"},tag:"a",translate:"yes"}},[e._v("log in")])],1)])])])])},z=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Profile")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("p",{staticClass:"panel-heading"},[s("span",{attrs:{translate:"yes"}},[e._v("Your Settings")])])}],V=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$store.state.user.profile?s("div",{attrs:{id:"meInfo"}},[s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-8 has-text-centered"},[s("h2",{staticClass:"title is-2 has-text-centered"},[e._v(e._s(e.$store.state.user.profile.username))])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4 has-text-centered"},[s("div",{staticClass:"user--avatar-wrapper is-centered",style:{"background-image":"url('"+e.userProfileImage+"')"}})]),s("div",{staticClass:"column is-4 has-text-centered"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.uploadUserProfileImage(t)}}},[s("div",{staticClass:"field"},[s("b-upload",{attrs:{"drag-drop":""},model:{value:e.dropFiles,callback:function(t){e.dropFiles=t},expression:"dropFiles"}},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("font-awesome-icon",{staticClass:"fa-3x",attrs:{icon:"file-upload"}})],1),s("p",{staticClass:"dropFilesOrClick",attrs:{translate:"yes"}},[e._v("Drop your files here or click to upload")])])])])],1),s("div",{staticClass:"tags"},e._l(e.dropFiles,function(t,a){return s("span",{key:a,staticClass:"tag is-primary"},[e._v("\n                  "+e._s(t.name)+"\n                  "),s("button",{staticClass:"delete is-small",attrs:{type:"button"},on:{click:function(t){return e.deleteDropFile(a)}}})])}),0),e._m(0)])])]),s("div",{staticClass:"user-info-edit-form-wrapper"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-8 is-centered"},[s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12 has-text-centered"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.changeUsername(t)}}},[s("div",{staticClass:"field username"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Username")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userBasicData.username,expression:"userBasicData.username"}],staticClass:"input",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.userBasicData.username},on:{input:function(t){t.target.composing||e.$set(e.userBasicData,"username",t.target.value)}}})]),e._m(1)]),e._m(2)])])]),e._m(3),s("form",{on:{submit:function(t){return t.preventDefault(),e.changeEmail(t)}}},[s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field email"},[s("label",{staticClass:"label"},[e._v("Email")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userBasicData.email,expression:"userBasicData.email"}],staticClass:"input",attrs:{type:"text",placeholder:"Email"},domProps:{value:e.userBasicData.email},on:{input:function(t){t.target.composing||e.$set(e.userBasicData,"email",t.target.value)}}})]),e._m(4)])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field email2"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Email Confirm")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userBasicData.email2,expression:"userBasicData.email2"}],staticClass:"input",attrs:{type:"text",placeholder:"Email Confirm"},domProps:{value:e.userBasicData.email2},on:{input:function(t){t.target.composing||e.$set(e.userBasicData,"email2",t.target.value)}}})]),e._m(5)])])]),e._m(6)]),e._m(7),s("form",{on:{submit:function(t){return t.preventDefault(),e.changePassword(t)}}},[s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field password"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Password")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userBasicData.password,expression:"userBasicData.password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password"},domProps:{value:e.userBasicData.password},on:{input:function(t){t.target.composing||e.$set(e.userBasicData,"password",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field password2"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Password Confirm")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.userBasicData.password2,expression:"userBasicData.password2"}],staticClass:"input",attrs:{type:"password",placeholder:"Password Confirm"},domProps:{value:e.userBasicData.password2},on:{input:function(t){t.target.composing||e.$set(e.userBasicData,"password2",t.target.value)}}})]),e._m(8)])])]),e._m(9)])])])])]):e._e()},G=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button is-success",attrs:{type:"submit"}},[s("span",{attrs:{translate:"yes"}},[e._v("Change Image")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"exists",translate:"yes"}},[e._v("Username already exists")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button is-success"},[s("span",{attrs:{translate:"yes"}},[e._v("Change Username")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("hr")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"exists",translate:"yes"}},[e._v("Email already exists")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"not confirmed",translate:"yes"}},[e._v("Values do not match")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12 has-text-centered"},[s("button",{staticClass:"button is-success"},[s("span",{attrs:{translate:"yes"}},[e._v("Change your Email")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("hr")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"not confirmed",translate:"yes"}},[e._v("Values do not match")]),s("div",{staticClass:"form-message",attrs:{"data-message":"unknown error",translate:"yes"}},[e._v("An error occured when changing password")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12 has-text-centered"},[s("button",{staticClass:"button is-success"},[s("span",{attrs:{translate:"yes"}},[e._v("Change your Password")])])])])}],H={name:"UserMeInfo",data:function(){return{dropFiles:[]}},computed:{userBasicData:function(){var e=this.$store.getters.getUserProfile;console.log(e);var t={username:"",email:"",email2:"",password:"",password2:""};return e&&e.username&&(t.username=e.username,t.email=e.email),t},userProfileImage:function(){return this.$store.getters.getProfileImage()}},methods:{deleteDropFile:function(e){this.dropFiles.splice(e,1)},uploadUserProfileImage:function(){var e=this,t=new FormData;if(this.dropFiles.length&&this.dropFiles.length>0)for(var s=0;s<this.dropFiles.length;s++){var a=this.dropFiles[s];t.append("files["+s+"]",a)}else t.append("files[0]",this.dropFiles);this.$httpc.post("user/image",t,{headers:{Authorization:"Token "+this.$store.state.user.token,"Content-Type":"application/json",Accept:"application/json"}}).then(function(t){if(t&&t.data){if("'"==t.data.substr(0,1)&&"'"==t.data[t.data.length-1]){var s=t.data.length-2;t.data=t.data.substr(1,s),t.data=JSON.parse(t.data)}t.data.files&&t.data.files.length>0&&t.data.files[0].path&&(e.$store.dispatch("setUserProfileImage",t.data.files[0].path),e.$forceUpdate())}}).catch(function(e){console.log(e)}).then(function(){})},changeUsername:function(){var e=[],t=!0,s=this;this.$httpc.post("users/checkusername",{username:this.userBasicData.username}).then(function(a){a.data&&1==a.data?(t=!1,"error",e.push({target:"username",action:"already exists"})):(t=!0,t&&s.$store.dispatch("updateUser",{username:s.userBasicData.username})),console.log(e)}).catch(function(e){s.sendChangeRequest=!1,s.status="error",e.response.data&&e.response.data.errors&&s.$helpers.showFormFieldErrorsFromErrorResponse(e.response.data.errors)}).then(function(){})},changeEmail:function(){var e=!0,t=this;this.userBasicData.email&&this.userBasicData.email2&&this.userBasicData.email===this.userBasicData.email2||("error",t.$helpers.formUndecorateAndDecorateFields(["email2"],[{name:"email2",action:"not confirmed"}]),e=!1),e&&this.$httpc.post("users/checkemail",{email:this.userBasicData.email}).then(function(s){e=!0,e&&t.$store.dispatch("updateUser",{email:t.userBasicData.email})}).catch(function(e){t.sendChangeRequest=!1,t.status="error",e.response.data&&e.response.data.errors&&t.$helpers.showFormFieldErrorsFromErrorResponse(e.response.data.errors)}).then(function(){})},changePassword:function(){var e=this;console.log(this.userBasicData.password+" !== "+this.userBasicData.password2,this.userBasicData.password!==this.userBasicData.password2),this.userBasicData.password&&this.userBasicData.password2&&this.userBasicData.password===this.userBasicData.password2||("error",e.$helpers.formUndecorateAndDecorateFields(["password2"],[{name:"password2",action:"not confirmed"}]))}}},Z=H,J=(s("7baa"),Object(v["a"])(Z,V,G,!1,null,null,null)),Y=J.exports,W=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$store.state.user.profile?s("div",{},[s("h2",{staticClass:"title is-2"},[e._v("Invoice Address")]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-8 is-centered"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.saveUserAddresses(t)}}},[s("div",{staticClass:"deliveryAddressWrapper"},[s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.nameFirst,expression:"activeInvoiceAddress.nameFirst"}],staticClass:"input",attrs:{type:"text",placeholder:"First Name"},domProps:{value:e.activeInvoiceAddress.nameFirst},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"nameFirst",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.nameLast,expression:"activeInvoiceAddress.nameLast"}],staticClass:"input",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:e.activeInvoiceAddress.nameLast},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"nameLast",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.street,expression:"activeInvoiceAddress.street"}],staticClass:"input",attrs:{type:"text",placeholder:"Street"},domProps:{value:e.activeInvoiceAddress.street},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"street",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street 2")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.street2,expression:"activeInvoiceAddress.street2"}],staticClass:"input",attrs:{type:"text",placeholder:"Street 2"},domProps:{value:e.activeInvoiceAddress.street2},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"street2",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("ZIP")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.zip,expression:"activeInvoiceAddress.zip"}],staticClass:"input",attrs:{type:"text",placeholder:"ZIP"},domProps:{value:e.activeInvoiceAddress.zip},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"zip",t.target.value)}}})])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("City")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.city,expression:"activeInvoiceAddress.city"}],staticClass:"input",attrs:{type:"text",placeholder:"City"},domProps:{value:e.activeInvoiceAddress.city},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"city",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("State")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.state,expression:"activeInvoiceAddress.state"}],staticClass:"input",attrs:{type:"text",placeholder:"State"},domProps:{value:e.activeInvoiceAddress.state},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"state",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Country")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.country,expression:"activeInvoiceAddress.country"}],staticClass:"input",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.activeInvoiceAddress.country},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"country",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Phone")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeInvoiceAddress.phone,expression:"activeInvoiceAddress.phone"}],staticClass:"input",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.activeInvoiceAddress.phone},on:{input:function(t){t.target.composing||e.$set(e.activeInvoiceAddress,"phone",t.target.value)}}})])])])]),e._m(0)])])])])]):e._e()},X=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column has-text-centered"},[s("button",{staticClass:"button is-success"},[s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-home"})]),e._v("\n              Set Invoice Address\n            ")])])])}],Q={name:"UserMeInvoice",data:function(){return{activeInvoiceAddress:{type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""}}},mounted:function(){var e,t=this.$store.getters.getUserProfile;t.addressInvoice&&(e=t.addressInvoice);var s={type:"invoice",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""};if(e&&e.nameFirst&&(s=e),this.activeInvoiceAddress)for(var a in this.activeInvoiceAddress)this.activeInvoiceAddress.hasOwnProperty(a)&&""!=a.trim()&&(this.activeInvoiceAddress[a]=s[a]);return this.$forceUpdate(),s},methods:{saveUserAddresses:function(){var e=[];console.log("userAddressInvoice:",this.activeInvoiceAddress),e.push(this.activeInvoiceAddress),e.push(this.$store.state.user.profile.addressesDelivery),this.$store.dispatch("updateUser",{addresses:e})}}},K=Q,ee=Object(v["a"])(K,W,X,!1,null,null,null),te=ee.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.$store.state.user.profile?s("div",{},[s("h2",{staticClass:"title is-2"},[e._v("Delivery Addresses")]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-4"},[s("nav",{staticClass:"panel user-settings-delivery-nav"},[s("p",{staticClass:"panel-heading"},[e._v("\n          Addresses\n        ")]),s("div",[s("div",{staticClass:"panel-block"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryFilter,expression:"deliveryFilter"}],staticClass:"input is-small",attrs:{type:"text",placeholder:"search"},domProps:{value:e.deliveryFilter},on:{input:function(t){t.target.composing||(e.deliveryFilter=t.target.value)}}}),e._m(0)])]),e._l(e.userDeliveryAddress,function(t,a){return s("div",{key:a},[s("a",{staticClass:"panel-block",on:{click:function(t){return e.getDeliveryAddress(a,t)}}},[s("span",{staticClass:"panel-icon"},[s("a",{staticClass:"fas fa-book",attrs:{"aria-hidden":"true"},on:{click:function(t){return t.target!==t.currentTarget?null:e.removeDeliveryAddress(a)}}},[e._v("x")])]),e._v("\n            "+e._s(t.street)+", "+e._s(t.zip)+"\n          ")])])})],2),s("div",{staticClass:"panel-block"},[s("button",{staticClass:"button is-link is-outlined is-fullwidth",on:{click:e.addNewDeliveryAddress}},[e._v("\n            Add New Delivery Address\n          ")])])])]),s("div",{staticClass:"column is-8"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.saveUserAddresses(t)}}},[s("div",{staticClass:"deliveryAddressWrapper"},[s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.nameFirst,expression:"activeDeliveryAddress.nameFirst"}],staticClass:"input",attrs:{type:"text",placeholder:"First Name"},domProps:{value:e.activeDeliveryAddress.nameFirst},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"nameFirst",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.nameLast,expression:"activeDeliveryAddress.nameLast"}],staticClass:"input",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:e.activeDeliveryAddress.nameLast},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"nameLast",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.street,expression:"activeDeliveryAddress.street"}],staticClass:"input",attrs:{type:"text",placeholder:"Street"},domProps:{value:e.activeDeliveryAddress.street},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"street",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Street 2")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.street2,expression:"activeDeliveryAddress.street2"}],staticClass:"input",attrs:{type:"text",placeholder:"Street 2"},domProps:{value:e.activeDeliveryAddress.street2},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"street2",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("ZIP")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.zip,expression:"activeDeliveryAddress.zip"}],staticClass:"input",attrs:{type:"text",placeholder:"ZIP"},domProps:{value:e.activeDeliveryAddress.zip},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"zip",t.target.value)}}})])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("City")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.city,expression:"activeDeliveryAddress.city"}],staticClass:"input",attrs:{type:"text",placeholder:"City"},domProps:{value:e.activeDeliveryAddress.city},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"city",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("State")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.state,expression:"activeDeliveryAddress.state"}],staticClass:"input",attrs:{type:"text",placeholder:"State"},domProps:{value:e.activeDeliveryAddress.state},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"state",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Country")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.country,expression:"activeDeliveryAddress.country"}],staticClass:"input",attrs:{type:"text",placeholder:"Country"},domProps:{value:e.activeDeliveryAddress.country},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"country",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[e._v("Phone")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.activeDeliveryAddress.phone,expression:"activeDeliveryAddress.phone"}],staticClass:"input",attrs:{type:"text",placeholder:"Phone"},domProps:{value:e.activeDeliveryAddress.phone},on:{input:function(t){t.target.composing||e.$set(e.activeDeliveryAddress,"phone",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6 has-text-centered"},[s("button",{staticClass:"button is-success",attrs:{type:"submit"},on:{click:e.saveUserAddresses}},[e._m(1),e._v("\n            Save Address\n          ")])])])])])])])]):e._e()},ae=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon"},[s("i",{staticClass:"fas fa-home"})])}],re={name:"UserMeDelivery",data:function(){return{activeDeliveryAddressIndex:0,activeDeliveryAddress:{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""},deliveryFilter:""}},computed:{userDeliveryAddress:function(){var e=this.$store.getters.getUserProfile.addressesDelivery,t=[];if(e&&e.length>0&&(t=e,""!==this.deliveryFilter.toString().trim())){var s=this.deliveryFilter.toString().trim().toLowerCase(),a=[];e.forEach(function(e,t){var r=!1;for(var i in e)e.hasOwnProperty(i)&&e[i].toString().trim().toLowerCase().indexOf(s)>-1&&(r=!0);r&&a.push(e)}),a.length>0&&(t=a)}return console.log(t.length),t}},methods:{getDeliveryAddress:function(e,t){this.activeDeliveryAddressIndex=e,this.activeDeliveryAddress=this.userDeliveryAddress[e];var s=this.$el.querySelectorAll(".users-me nav.user-settings-delivery-nav a.panel-block");s&&s.length&&s.forEach(function(e){e.classList.remove("is-active")}),t.target.classList.add("is-active")},addNewDeliveryAddress:function(){var e=this;this.$store.dispatch("addNewDeliveryAddress",{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",country:"",phone:""}).then(function(){e.$forceUpdate()}),this.$forceUpdate()},removeDeliveryAddress:function(e){var t=this;this.$store.dispatch("removeDeliveryAddress",e).then(function(){t.activeDeliveryAddressIndex=0,t.$forceUpdate(),t.saveUserAddresses()})},saveUserAddresses:function(){var e=[],t=this.$store.getters.getUserProfile;if(e.push(t.addressInvoice),t.addressesDelivery.length>0)for(var s=0;s<t.addressesDelivery.length;s++)e.push(t.addressesDelivery[s]);this.$store.dispatch("updateUser",{addresses:e})}}},ie=re,ne=Object(v["a"])(ie,se,ae,!1,null,null,null),oe=ne.exports,le={name:"UsersMe",components:{UserMeInfo:Y,UserMeInvoince:te,UserMeDelivery:oe},data:function(){return{activeComponent:Y,menuStates:{UserMeInfo:!0,UserMeInvoince:!1,UserMeDelivery:!1}}},computed:{isLogged:function(){return"undefined"!==typeof this.$store&&"undefined"!==typeof this.$store.state.user.logged&&this.$store.state.user.logged}},created:function(){console.log(this.$options.components)},methods:{userComponent:function(e,t){this.$options.components&&this.$options.components[e]&&(this.activeComponent=this.$options.components[e]);var s=this.$el.querySelectorAll(".users-me nav.user-settings-nav a.panel-block");s&&s.length&&s.forEach(function(e){e.classList.remove("is-active")}),t.target.classList.add("is-active")}}},ce=le,de=Object(v["a"])(ce,B,z,!1,null,null,null),ue=de.exports,me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-me"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Verify")]),s("p",{},[e._v(e._s(e.email))]),e.error?s("div",[s("p",{staticClass:"has-text-danger",attrs:{translate:"yes"}},[e._v("Activation link is not valid anymore (valid only for 2 hours)")]),s("p",[s("span",{attrs:{translate:"yes"}},[e._v("If more than 2 hours passed, try to")]),e._v("\n           "),s("router-link",{attrs:{to:{name:"reset"},tag:"a",translate:"yes"}},[e._v("reset your password")])],1)]):e._e()])])])},ve=[],pe=(s("3b2b"),{name:"UsersVerify",data:function(){return{error:!1}},computed:{email:function(){var e=new RegExp("--","g"),t=this.$route.params.id.toString().replace("---","@").replace(e,".");return t}},mounted:function(){console.log("verify"),this.sendVerifycation()},methods:{sendVerifycation:function(){var e=this,t=decodeURIComponent(this.$route.params.id),s=decodeURIComponent(this.$route.params.hash);this.$httpc.post("user/verify",{email:t,hash:s},{timeout:7e3}).then(function(t){if(console.log(t),t.data.user.token){e.$store.state.user.logged=!0,e.$store.state.user.token=t.data.user.token,e.$store.state.user.remember=e.remember;var s=t.data.user;e.$store.dispatch("setUser",s),1==e.remember?localStorage.setItem("token",t.data.user.token):sessionStorage.setItem("token",t.data.user.token),e.$router.push({name:"me"})}}).catch(function(t){console.log(t),e.error=!0}).then(function(){e.$store.state.user.logged?e.$router.push({name:"me"}):e.error=!0})}}}),fe=pe,he=Object(v["a"])(fe,me,ve,!1,null,null,null),ge=he.exports,ye=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container users-me"},[e._m(0),s("div",{staticClass:"columns"},[e.sent?s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("h2",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("We are sending you email")]),s("p",{attrs:{translate:"yes"}},[e._v("Check your mailbox for verification email (if not found check, also you spam folder).")])]):s("div",{staticClass:"column is-half is-offset-one-quarter"},[s("form",{on:{submit:function(t){return t.preventDefault(),e.resetPassword(t)}}},[s("div",{},[e._m(1),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field email"},[s("label",{staticClass:"label"},[e._v("Email")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"input",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._m(2)])])]),s("button",{staticClass:"button is-success"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e._v("   \n            Reset\n          ")],1)])])])])])},Ce=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Reset password")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-12"},[e._v("\n              Required Field\n            ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"form-messages is-hidden"},[s("div",{staticClass:"form-message",attrs:{"data-message":"not found",translate:"yes"}},[e._v("This email couldn't be found")])])}],be={name:"UsersVerify",data:function(){return{email:null,sent:!1}},computed:{},mounted:function(){console.log("reset")},methods:{resetPassword:function(){var e=this;this.$httpc.post("user/reset",{email:this.email},{timeout:7e3}).then(function(t){console.log(t),e.sent=!0}).catch(function(t){t.response&&t.response.data&&t.response.data.errors&&Object.keys(t.response.data.errors).length>0&&Object.keys(t.response.data.errors).forEach(function(s){var a=e.$el.querySelector(".field."+s);if(a){var r=a.querySelector('.form-messages .form-message[data-message="'+t.response.data.errors[s]+'"]');if(r&&null!=r){e.$helpers.undecorateFormField(a,"danger");var i=r.innerText;e.$helpers.decorateFormField(a,i,"danger")}}})}).then(function(){})}}},_e=be,$e=Object(v["a"])(_e,ye,Ce,!1,null,null,null),Pe=$e.exports,xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container category-list"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[e.categoryDetail?s("h1",{staticClass:"title is-1"},[e._v(e._s(e.categoryDetail.name[e.$store.state.language.code]))]):s("h1",{staticClass:"title is-1 title-products",attrs:{translate:"yes"}},[e._v("Products")])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-3"},[this.categories.length>0?s("nav",{staticClass:"panel"},[s("p",{staticClass:"panel-heading",attrs:{translate:"yes"}},[e._v("\n          Sub-Categories\n        ")]),e._l(this.categories,function(t,a){return s("router-link",{key:a,staticClass:"panel-block",attrs:{title:t.descriptionShort[e.$store.state.language.code],to:{name:"categoryList",params:{category:t.pathSlug}}}},[e._v("\n          "+e._s(t.name[e.$store.state.language.code])+"\n        ")])})],2):e._e(),s("category-filter",{ref:"categoryFilter",attrs:{filter:e.filter,categoryMinMaxPrice:e.categoryMinMax}})],1),e.products.length>0?s("div",{staticClass:"column is-9"},[s("category-paging",{ref:"categoryPaging",attrs:{total:e.categoryProductsTotalForPaging}}),e._l(e.products,function(t,a){return s("div",{key:e.groupsLastRefresh+a,staticClass:"tile is-ancestor"},e._l(t,function(t,r){return s("router-link",{key:e.groupsLastRefresh+t._id+(a+r),staticClass:"tile is-parent is-4",attrs:{title:t.descriptionShort[e.$store.state.language.code],to:{name:"productDetail",params:{category:t.activeParentCategoryUrl,product:t._id}}}},[s("product-box",{attrs:{product:t}})],1)}),1)}),s("category-paging",{ref:"categoryPaging",attrs:{bottom:!0,total:e.categoryProductsTotalForPaging}})],2):e._e()])])},we=[],Ae=(s("55dd"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("article",{staticClass:"tile is-child box"},[s("p",{staticClass:"title"},[e._v(e._s(e.product.name[e.$store.state.language.code]))]),s("p",{staticClass:"subtitle"},[e._v(e._s(e.product.descriptionShort[e.$store.state.language.code]))]),s("div",{staticClass:"tile-image"},[s("img",{attrs:{src:e.getProductImagePath(e.product.orderCode),alt:e.product.name[e.$store.state.language.code]}})]),s("p",[s("span",{attrs:{translate:"yes"}},[e._v("In stock")]),e._v(" "+e._s(e.product.stockAmount))]),s("p",[s("span",{attrs:{translate:"yes"}},[e._v("Price")]),e._v(" "+e._s(e.$store.state.numeral(e.product.price).format("0 0.00"))+" "+e._s(e.$store.state.currency.symbol))]),s("div",[s("button",{staticClass:"button is-link",attrs:{"data-id":e.product._id},on:{click:function(t){return t.preventDefault(),e.addToCart(t)}}},[s("font-awesome-icon",{attrs:{icon:"cart-plus"}}),e._v("   "),s("span",{attrs:{translate:"yes"}},[e._v("Add to Cart")])],1)])])}),De=[],Ie={props:["product"],methods:{addToCart:function(e){var t=this,s=e.currentTarget.getAttribute("data-id"),a=e.currentTarget.getAttribute("data-amount");this.animateAddToCart(e.currentTarget),a||(a=1),console.log(s),this.$httpc.put("cart",{itemId:s,amount:a}).then(function(e){console.log(e),e.data&&t.$store.dispatch("setCart",e.data)}).catch(function(e){console.log(e)}).then(function(){})},animateAddToCart:function(e){function t(e){var t=e.timing,s=e.draw,a=e.duration,r=performance.now();requestAnimationFrame(function e(i){var n=(i-r)/a;n>1&&(n=1);var o=t(n);s(o),n<1&&requestAnimationFrame(e)})}var s=document.querySelector(".userCartLink"),a=document.querySelector(".userCartLink .cartItemsCount"),r="undefined"!==typeof a&&a?parseInt(a.textContent,10):0;console.log(r);var i=s.getBoundingClientRect().left+document.body.scrollLeft,n=s.getBoundingClientRect().top+document.body.scrollTop;i=Math.max(i,0),n=Math.max(n,0);var o=e,l=o.parentNode.parentNode,c=l.querySelector(".tile-image img"),d=c;console.log(d);var u=document.createElement("img");u.className="b-flying-img",u.setAttribute("src",c.getAttribute("src"));var m=c.getBoundingClientRect();u.style.width=m.width,u.style.height=m.height;var v=d.getBoundingClientRect().left+document.body.scrollLeft;v=Math.max(v,0);var p=d.getBoundingClientRect().top+document.body.scrollTop;p=Math.max(p,0);var f=(v-i)/100/100,h=(p-n)/100/100;function g(e){return 1-Math.sin(Math.acos(e))}r+=1,console.log("imgX, imgY, cartX, cartY, ratioX, ratioY",[v,p,i,n,f,h]),t({duration:500,timing:g,draw:function(e){u.style.top=1e4*(1-e)*h-p+n+"px",u.style.left=1e4*(1-e)*f-v+i+"px",u.style.opacity=1-e,u.style.transform="scale("+(1-e)+")",console.log("left, top, opacity, scale",[u.style.left,u.style.top,u.style.opacity,u.style.transform]),1===e&&u.remove()}}),o.parentNode.appendChild(u),a.textContent=r},getProductImagePath:function(e){var t="https://stretchshop.app/static/",s=this.$helpers.stringChunk(e,3);return this.$store.state.coredata&&this.$store.state.coredata.settings&&this.$store.state.coredata.settings.assets&&this.$store.state.coredata.settings.assets.url&&(t=this.$store.state.coredata.settings.assets.url),t+"/products/"+s+"/"+e+"-default.jpg"}}},ke=Ie,Se=(s("10a8"),Object(v["a"])(ke,Ae,De,!1,null,null,null)),Fe=Se.exports,Ee=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"panel categoryFilter"},[s("p",{staticClass:"panel-heading",attrs:{translate:"yes"}},[e._v("\n    Category filter\n  ")]),s("div",{staticClass:"panel-block"},[s("p",{staticClass:"control has-text-centered is-size-7"},[e.countsDoNotMatch?s("span",[s("span",[e._v("Filtered")]),e._v(":\n        "),s("span",[e._v(e._s(e.filteredCount))]),e._v("\n         / \n      ")]):e._e(),s("span",[e._v("Total")]),e._v(":\n      "),s("span",[e._v(e._s(e.categoryTotalCount))])])]),s("div",{staticClass:"panel-block"},[s("p",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tempFilter.stringFilter,expression:"tempFilter.stringFilter",modifiers:{trim:!0}}],staticClass:"input is-small",attrs:{type:"text",translate:"yes",placeholder:"search"},domProps:{value:e.tempFilter.stringFilter},on:{keyup:e.stringFilterChange,input:function(t){t.target.composing||e.$set(e.tempFilter,"stringFilter",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._m(0)])]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"panel-block-multiwrapper"},[e._m(1),s("div",{staticClass:"slider-range",attrs:{slider:""}},[s("div",{staticClass:"slider-range-controls"},[s("div",{staticStyle:{width:"0%"},attrs:{"inverse-left":""}}),s("div",{staticStyle:{width:"0%"},attrs:{"inverse-right":""}}),s("div",{staticStyle:{left:"0%",right:"0%"},attrs:{range:""}}),s("span",{staticStyle:{left:"0%"},attrs:{thumb:"left"}}),s("span",{staticStyle:{left:"100%"},attrs:{thumb:"right"}}),s("div",{staticStyle:{left:"0%"},attrs:{sign:"left"}},[s("span",{staticClass:"value"},[e._v(e._s(e.categoryPriceMin))])]),s("div",{staticStyle:{left:"100%"},attrs:{sign:"right"}},[s("span",{staticClass:"value"},[e._v(e._s(e.categoryPriceMax))])])]),s("input",{attrs:{type:"range",position:"left",tabindex:"0",max:e.categoryPriceMax,min:e.categoryPriceMin,step:"1"},domProps:{value:e.filterPriceMin},on:{input:e.priceSliderChange}}),s("input",{attrs:{type:"range",position:"right",tabindex:"0",max:e.categoryPriceMax,min:e.categoryPriceMin,step:"1"},domProps:{value:e.filterPriceMax},on:{input:e.priceSliderChange}})])])]),s("div",{staticClass:"panel-block"},[s("div",{staticClass:"panel-block-multiwrapper"},[e._m(2),s("div",[s("div",{staticClass:"control has-text-centered"},[s("div",{staticClass:"select is-centered"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.tempFilter.sort,expression:"tempFilter.sort"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.tempFilter,"sort",t.target.multiple?s:s[0])},e.changeSorting]}},[s("option",{attrs:{value:"price"}},[e._v("Price Ascending")]),s("option",{attrs:{value:"-price"}},[e._v("Price Descending")]),s("option",{attrs:{value:"-dates.dateCreated"}},[e._v("Latest")]),s("option",{attrs:{value:"stockAmount"}},[e._v("On Stock Amount")])])])])])])])])},Ne=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"icon is-small is-left"},[s("i",{staticClass:"fas fa-search",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Price")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("label",{staticClass:"label"},[s("span",{attrs:{translate:"yes"}},[e._v("Sort by")]),e._v(":")])])}],Ue=100,Le="price",Me=["price","-price","-dates.dateCreated","-stockAmount"],Te={PER_PAGE:Ue,PRODUCT_DEFAULT_SORTING:Le,PRODUCT_SORTING_VALUES:Me},Oe={data:function(){return{eventTimeoutId:null,tempFilter:{page:1,minMaxPrice:{min:0,max:0},stringFilter:"",sort:Te.PRODUCT_DEFAULT_SORTING},introMinMaxPrice:{min:null,max:null}}},props:["filter","categoryMinMaxPrice"],computed:{filterPriceMin:function(){return 0!=this.tempFilter.minMaxPrice.min?this.tempFilter.minMaxPrice.min:this.categoryPriceMin},filterPriceMax:function(){return 0!=this.tempFilter.minMaxPrice.max?this.tempFilter.minMaxPrice.max:this.categoryPriceMax},categoryPriceMin:function(){return"undefined"!==typeof this.categoryMinMaxPrice&&this.categoryMinMaxPrice.min<this.categoryMinMaxPrice.max?this.categoryMinMaxPrice.min:0},categoryPriceMax:function(){return"undefined"!==typeof this.categoryMinMaxPrice&&this.categoryMinMaxPrice.max>this.categoryMinMaxPrice.min?this.categoryMinMaxPrice.max:0},filteredCount:function(){return"undefined"!==typeof this.$parent?this.$parent.getCategoryFilteredCount():0},categoryTotalCount:function(){return"undefined"!==typeof this.$parent&&"undefined"!==typeof this.$parent.categoryDetail&&this.$parent.categoryDetail&&this.$parent.categoryDetail.count&&this.$parent.categoryDetail.count>0?this.$parent.categoryDetail.count:0},countsDoNotMatch:function(){return this.filteredCount>0&&this.filteredCount!=this.categoryTotalCount}},methods:{stringFilterChange:function(e){var t=e.target;this.filter.stringFilter=t.value,this.requestFilteredProductList()},priceSliderChange:function(e){var t="undefined"!==typeof e.forceValue?e.forceValue:null,s=e.target,a=s.getAttribute("position"),r="",i=0,n=null;"left"===a?(r="right",i=-1,n=s.parentNode.querySelector("input[type=range][position="+r+"]"),s.value=Math.min(s.value,parseInt(n.value)+i)):(a="right",r="left",i=1,n=s.parentNode.querySelector("input[type=range][position="+r+"]"),s.value=Math.max(s.value,parseInt(n.value)+i));var o=null;if(null!==t){var l=this.$parent.getCategoryMinMax();0==s.min&&"undefined"!==typeof l.min&&(s.min=l.min),0==s.max&&"undefined"!==typeof l.max&&(s.max=l.max),o=100/(parseInt(s.max)-parseInt(s.min))*parseInt(t)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min),s.value=t}else o=100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.value)-100/(parseInt(s.max)-parseInt(s.min))*parseInt(s.min);var c=s.parentNode.querySelector(".slider-range-controls");"left"===a?(c.querySelector("[inverse-"+a+"]").style.width=o+"%",c.querySelector("[range]").style.left=o+"%"):(c.querySelector("[inverse-"+a+"]").style.width=100-o+"%",c.querySelector("[range]").style.right=100-o+"%"),c.querySelector("[thumb="+a+"]").style.left=o+"%",c.querySelector("[sign="+a+"]").style.left=o+"%",c.querySelector("[sign="+a+"] .value").innerHTML=s.value;var d={};"left"===a?(d.min=s.value,d.max=n.value):(d.min=n.value,d.max=s.value),this.tempFilter.minMaxPrice=d,null===t&&this.requestFilteredProductList()},requestFilteredProductList:function(){var e=this;clearTimeout(this.eventTimeoutId),this.eventTimeoutId=setTimeout(function(){e.$root.loadingShow(),e.$httpc.post("products/find",e.buildFilterRequestObject(),{timeout:7e3}).then(function(t){var s=e.$parent.categoryDetail;t["data"]={categories:e.$parent.categories,categoryDetail:s,filter:t.data.filter,products:t.data.products,filteredProductsCount:t.data.filteredProductsCount},e.changeFilterUrl(),e.$parent.processCategoryResponse(t)}).catch(function(e){console.log(e)})},1e3)},buildFilterRequestObject:function(e){var t=this.tempFilter;"undefined"!==typeof e&&e&&(t=e);var s=null;if("undefined"!==typeof this.$parent.categoryDetail&&this.$parent.categoryDetail){t["category"]={_id:this.$parent.categoryDetail._id,pathSlug:this.$parent.categoryDetail.pathSlug,subsSlugs:this.$parent.categoryDetail.subsSlugs};var a=t.category.subsSlugs;a.unshift(t.category.pathSlug),s={$in:a}}var r={query:{categories:s},limit:Te.PER_PAGE,sort:t.sort};if(t.page>1){var i=Math.abs(t.page-1)*Te.PER_PAGE;i>0&&(r.offset=i)}t.stringFilter&&""!==t.stringFilter.trim()&&(r.query["name."+this.$store.state.language.code]={$regex:t.stringFilter});var n="undefined"!==typeof t.minMaxPrice&&"undefined"!==typeof t.minMaxPrice.min?t.minMaxPrice.min:0,o="undefined"!==typeof t.minMaxPrice&&"undefined"!==typeof t.minMaxPrice.max?t.minMaxPrice.max:0;return(n>this.categoryPriceMin||o<this.categoryPriceMax)&&(r.query["price"]={$gte:parseFloat(n),$lte:parseFloat(o)}),r},changeFilterUrl:function(){var e=this.filterObjectToQueryString();""!==e&&history.pushState({},null,e)},filterObjectToQueryString:function(){var e=[],t="";return this.tempFilter.page>1&&e.push("page="+encodeURIComponent(parseInt(this.tempFilter.page))),this.tempFilter.minMaxPrice.min>this.categoryPriceMin&&e.push("price-min="+encodeURIComponent(this.tempFilter.minMaxPrice.min)),this.tempFilter.minMaxPrice.max<this.categoryPriceMax&&e.push("price-max="+encodeURIComponent(this.tempFilter.minMaxPrice.max)),""!=this.tempFilter.stringFilter.trim()&&e.push("string="+encodeURIComponent(this.tempFilter.stringFilter.trim())),""!=this.tempFilter.sort.trim()&&this.tempFilter.sort!=this.filter.sort&&e.push("sort="+encodeURIComponent(this.tempFilter.sort.trim())),e.length>0&&(t=this.$route.path+"?"+e.join("&")),t},setActivePage:function(e){this.tempFilter.page=e,this.requestFilteredProductList()},changeSorting:function(e){this.tempFilter.sort=e.target.value,this.requestFilteredProductList()},setTempFilter:function(e){var t=this,s=!1,a={target:this.$el.querySelector("input[type=range][position=left]")},r={target:this.$el.querySelector("input[type=range][position=right]")};Object.keys(e).forEach(function(i){"undefined"!==typeof t.tempFilter[i]&&(t.tempFilter[i]=e[i],"minMaxPrice"==i&&(a["forceValue"]=t.tempFilter.minMaxPrice.min,r["forceValue"]=t.tempFilter.minMaxPrice.max,s=!0))}),s&&(this.priceSliderChange(a),this.priceSliderChange(r))}}},qe=Oe,je=(s("a906"),Object(v["a"])(qe,Ee,Ne,!1,null,null,null)),Re=je.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.total>e.perPage?s("section",[s("b-pagination",{attrs:{total:e.total,current:e.current,order:e.order,size:e.size,simple:e.isSimple,rounded:e.isRounded,"per-page":e.perPage,"aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:current":function(t){e.current=t},change:e.pagingChanged}}),1==e.bottom?s("div",[s("button",{staticClass:"button"},[e._v("Load More ...")])]):e._e()],1):e._e()},ze=[],Ve=(s("c5f6"),{data:function(){return{current:1,perPage:Te.PER_PAGE,order:"is-centered",size:"",isSimple:!1,isRounded:!1}},props:{bottom:!1,total:{type:Number,required:!0}},methods:{pagingChanged:function(e){this.current=e,this.$parent.$refs.categoryFilter.setActivePage(e),console.log("value:",e)}}}),Ge=Ve,He=Object(v["a"])(Ge,Be,ze,!1,null,null,null),Ze=He.exports,Je=(s("df7c"),{name:"CategoryList",data:function(){return{categories:[],filteredProductsCount:null,products:[],categoryDetail:null,filter:{minMaxPrice:{min:0,max:0},stringFilter:"",sort:Te.PRODUCT_DEFAULT_SORTING},language:"en",groupsLastRefresh:0}},computed:{categoryMinMax:function(){return this.categoryDetail&&"undefined"!==typeof this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:{min:null,max:null}},categoryProductsTotalForPaging:function(){return"undefined"!==typeof this.filteredProductsCount&&null!==this.filteredProductsCount?this.filteredProductsCount:"undefined"!==typeof this.categoryDetail.count&&this.categoryDetail.count?this.categoryDetail.count:0}},components:{"product-box":Fe,"category-filter":Re,"category-paging":Ze},mounted:function(){this.listCategoryItems(!0)},methods:{processCategoryResponse:function(e){var t=new Date;if(this.groupsLastRefresh=t.getTime(),e.data.categoryDetail&&(this.categoryDetail=e.data.categoryDetail),e.data.categories&&(this.categories=e.data.categories),e.data.filteredProductsCount&&(this.filteredProductsCount=e.data.filteredProductsCount),e.data.products){var s=e.data.products;e.data.categoryDetail&&e.data.categoryDetail.pathSlug&&s.forEach(function(t){t.activeParentCategoryUrl=e.data.categoryDetail.pathSlug}),this.products=this.$store.state.chunk(s,3)}if(e.data.filter){var a=Object.assign({},this.filter);this.filter=e.data.filter;var r=this;Object.keys(a).forEach(function(e){"undefined"!==typeof r.filter[e]&&null!=r.filter[e]||(r.filter[e]=a[e])})}this.$root.loadingClose()},listCategoryItems:function(e){e=!("undefined"===typeof e&&!e);var t=this;if(this.$route.params&&this.$route.params.category&&""!=this.$route.params.category.toString().trim())this.$root.loadingShow(),e&&Object.keys(this.$route.query).length>0?(this.queryStringtoFilter(),t.$httpc.post("products/"+this.$route.params.category,{filter:t.$refs.categoryFilter.buildFilterRequestObject(this.filter)},{timeout:7e3}).then(function(e){t.processCategoryResponse(e),"undefined"!==typeof t.$refs.categoryFilter&&t.$refs.categoryFilter.setTempFilter(t.filter)}).catch(function(e){console.log(e)})):this.$httpc.get("products/"+this.$route.params.category,{timeout:7e3}).then(function(e){t.processCategoryResponse(e)}).catch(function(e){console.log(e)});else{var s=this.$route.path,a=s.split("/");a.length>1&&(a.splice(0,2),s=a.join("/"));var r=s;this.$httpc.post("categories/find",{query:{parentPathSlug:"",type:r}}).then(function(e){e.data&&(t.categories=e.data)}).catch(function(e){console.log(e)}).then(function(){})}},queryStringtoFilter:function(){var e={minMaxPrice:{}};if("undefined"!==typeof this.$route.query["price-min"]){var t=parseFloat(this.$route.query["price-min"]);t>0&&(e.minMaxPrice["min"]=t)}if("undefined"!==typeof this.$route.query["price-max"]){var s=parseFloat(this.$route.query["price-max"]);s>0&&(e.minMaxPrice["max"]=s)}if("undefined"!==typeof this.$route.query["string"]){var a=decodeURIComponent(this.$route.query["string"]).trim();""!==a&&(e["stringFilter"]=a)}if("undefined"!==typeof this.$route.query["sort"]){var r=decodeURIComponent(this.$route.query["sort"]).trim();""!==r&&(e["sort"]=r)}this.filter=e},getCategoryMinMax:function(){return this.categoryDetail&&this.categoryDetail.minMaxPrice?this.categoryDetail.minMaxPrice:null},getCategoryFilteredCount:function(){return this.filteredProductsCount&&this.filteredProductsCount>0?this.filteredProductsCount:0}}}),Ye=Je,We=Object(v["a"])(Ye,xe,we,!1,null,null,null),Xe=We.exports,Qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container product-detail"},[s("div",{staticClass:"column"},[this.product?s("h1",{staticClass:"title"},[e._v(e._s(this.product.name.en))]):e._e(),this.product?s("h2",{staticClass:"subtitle"},[e._v(e._s(this.product.descriptionShort.en))]):e._e(),this.product?s("p",[e._v(e._s(this.product.descriptionLong.en))]):e._e(),s("p",[s("span",{attrs:{translate:"yes"}},[e._v("In stock")]),e._v(" "+e._s(this.product.stockAmount))]),s("div",[s("button",{staticClass:"button is-link",attrs:{"data-id":e.product._id},on:{click:function(t){return t.preventDefault(),e.addToCart(t)}}},[s("font-awesome-icon",{attrs:{icon:"cart-plus"}}),e._v("   "),s("span",{attrs:{translate:"yes"}},[e._v("Add to Cart")])],1)])])])},Ke=[],et={name:"ProductDetail",data:function(){return{product:null,language:"en"}},created:function(){this.getProductDetail()},methods:{getProductDetail:function(){var e=this;console.log("detail",this.$route.params),this.$route.params&&this.$route.params.category&&""!=this.$route.params.category.toString().trim()&&this.$route.params.product&&""!=this.$route.params.product.toString().trim()&&this.$httpc.get("products/"+this.$route.params.category+"/detail/"+this.$route.params.product).then(function(t){t.data&&(e.product=t.data,console.log(t.data)),t.data.products&&(e.products=t.data.products),t.data.categoryDetail&&(e.categoryDetail=t.data.categoryDetail)}).catch(function(e){console.log(e)}).then(function(){})}}},tt=et,st=Object(v["a"])(tt,Qe,Ke,!1,null,null,null),at=st.exports,rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container order-step-1 cart-detail",attrs:{id:"orderCart"}},[e.orderStateNumber<4?s("div",{staticClass:"columns"},[e._m(0)]):e._e(),e.orderStateNumber<4?s("div",{staticClass:"columns is-variable is-8"},[s("div",{staticClass:"column is-6"}),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"b-tabs block"},[s("nav",{staticClass:"tabs is-boxed is-centered"},[s("ul",[e.orderStateNumber>0?s("li",{class:e.viewComponentId&&1!=e.viewComponentId?"":"is-active"},[s("a",{class:e.getStateClass(1),on:{click:function(t){return e.setViewCoponentId(1)}}},[s("span",{attrs:{translate:"yes"}},[e._v("User")])])]):e._e(),e.orderStateNumber>1?s("li",{class:e.viewComponentId&&2==e.viewComponentId?"is-active":""},[s("a",{class:e.getStateClass(2),on:{click:function(t){return e.setViewCoponentId(2)}}},[s("span",{attrs:{translate:"yes"}},[e._v("Delivery Payment")])])]):e._e(),e.orderStateNumber>2?s("li",{class:e.viewComponentId&&3==e.viewComponentId?"is-active":""},[s("a",{class:e.getStateClass(3),on:{click:function(t){return e.setViewCoponentId(3)}}},[s("span",{attrs:{translate:"yes"}},[e._v("Summary")])])]):e._e()])])])])]):e._e(),s("div",{staticClass:"columns is-variable is-8"},[e.orderStateNumber<4?s("div",{staticClass:"column is-6"},[null!=e.$store.state.cart&&e.$store.state.cart.items&&e.$store.state.cart.items.length>0?s("div",[s("table",{staticClass:"table is-hoverable is-fullwidth"},[s("tbody",e._l(e.$store.state.cart.items,function(t,a){return s("tr",{key:a},[s("th",[e._v(e._s(t.name[e.$store.state.language.code]))]),s("td",{staticClass:"cartItemAmount"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.itemAmount[t._id],expression:"itemAmount[item._id]"}],staticClass:"input",attrs:{type:"number",run:!!e.itemAmount[t._id]||(e.itemAmount[t._id]=t.amount)},domProps:{value:e.itemAmount[t._id]},on:{change:function(s){return e.updateCartItemAmount(t._id)},input:function(s){s.target.composing||e.$set(e.itemAmount,t._id,s.target.value)}}})]),s("td",[e._v(e._s(e.$store.state.numeral(t.price).format("0.00")))]),s("td",[s("a",{on:{click:function(s){return e.clearCart(t._id)}}},[s("font-awesome-icon",{attrs:{icon:"trash"}})],1)])])}),0)]),e.$store.state.order&&e.$store.state.order.order&&e.$store.state.order.order.prices&&e.$store.state.order.order.prices.priceDelivery?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Price delivery")]),e._v(" "+e._s(e.$store.state.numeral(e.$store.state.order.order.prices.priceDelivery).format("0.00"))+"\n        ")]):e._e(),e.$store.state.order&&e.$store.state.order.order&&e.$store.state.order.order.prices&&e.$store.state.order.order.prices.pricePayment?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Price payment")]),e._v(": "+e._s(e.$store.state.numeral(e.$store.state.order.order.prices.pricePayment).format("0.00"))+"\n        ")]):e._e(),e.$store.state.order&&e.$store.state.order.order&&e.$store.state.order.order.prices&&e.$store.state.order.order.prices.priceTotal?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Total price")]),e._v(": "+e._s(e.$store.state.numeral(e.$store.state.order.order.prices.priceTotal).format("0.00"))+"\n        ")]):e.$store.state.cart&&null!=e.$store.state.cart.priceTotal?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Total price")]),e._v(": "+e._s(e.$store.state.numeral(e.$store.state.cart.priceTotal).format("0.00"))+"\n        ")]):e._e(),s("hr"),s("button",{staticClass:"button is-danger",on:{click:function(t){return e.clearCart()}}},[s("font-awesome-icon",{attrs:{icon:"trash"}}),e._v("   "),s("span",{attrs:{translate:"yes"}},[e._v("Clear Cart")])],1)]):s("div",[e._m(1)])]):e._e(),s("div",{staticClass:"column is-6"},[s(e.orderStateComponent,{tag:"component"})],1)])])},it=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column"},[s("h1",{staticClass:"title is-1",attrs:{translate:"yes"}},[e._v("Cart")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h3",{staticClass:"title is-3"},[s("span",{attrs:{translate:"yes"}},[e._v("Your cart is empty")])])}],nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("Your Address")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.updateUserData(t)}}},[e.$store.state.user.logged&&!0===e.$store.state.user.logged?s("div",[s("span",{attrs:{translate:"yes"}},[e._v("Logged in as")]),e._v(" "+e._s(e.user.username?e.user.username:"")+"\n    ")]):s("div",[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("span",{attrs:{translate:"yes"}},[e._v("Already registered?")]),s("router-link",{attrs:{to:{name:"login"},tag:"a","active-class":"is-active",translate:"yes"}},[e._v("Log in")])],1)]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Email")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserEmail,expression:"newUserEmail"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Email"},domProps:{value:e.newUserEmail},on:{input:function(t){t.target.composing||(e.newUserEmail=t.target.value)}}})])])]),e._m(0)]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Password")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUserPassword,expression:"newUserPassword"}],staticClass:"input",attrs:{type:"password",translate:"yes",placeholder:"Password"},domProps:{value:e.newUserPassword},on:{input:function(t){t.target.composing||(e.newUserPassword=t.target.value)}}})])])]),e._m(1)]),e._m(2)]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.nameFirst,expression:"user.addressInvoice.nameFirst"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"First Name"},domProps:{value:e.user.addressInvoice.nameFirst},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"nameFirst",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.nameLast,expression:"user.addressInvoice.nameLast"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Last Name"},domProps:{value:e.user.addressInvoice.nameLast},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"nameLast",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Street")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.street,expression:"user.addressInvoice.street"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Street"},domProps:{value:e.user.addressInvoice.street},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"street",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Street 2")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.street2,expression:"user.addressInvoice.street2"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Street 2"},domProps:{value:e.user.addressInvoice.street2},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"street2",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("ZIP")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.zip,expression:"user.addressInvoice.zip"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"ZIP"},domProps:{value:e.user.addressInvoice.zip},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"zip",t.target.value)}}})])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("City")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.city,expression:"user.addressInvoice.city"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"City"},domProps:{value:e.user.addressInvoice.city},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"city",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("State")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.state,expression:"user.addressInvoice.state"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"State"},domProps:{value:e.user.addressInvoice.state},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"state",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Country")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.country,expression:"user.addressInvoice.country"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Country"},domProps:{value:e.user.addressInvoice.country},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"country",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Phone")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.addressInvoice.phone,expression:"user.addressInvoice.phone"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Phone"},domProps:{value:e.user.addressInvoice.phone},on:{input:function(t){t.target.composing||e.$set(e.user.addressInvoice,"phone",t.target.value)}}})])])])]),s("button",{staticClass:"button is-success",attrs:{type:"submit"}},[s("font-awesome-icon",{attrs:{icon:"check"}}),e._v("   \n      "),s("span",{attrs:{translate:"yes"}},[e._v("Set user order data")])],1)])])},ot=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Email Confirm")]),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Email Confirm"}})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Password Confirm")]),s("div",{staticClass:"control"},[s("input",{staticClass:"input",attrs:{type:"password",translate:"yes",placeholder:"Password Confirm"}})])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-12"},[s("hr")])])}],lt=s("cebc"),ct={name:"OrderUser",data:function(){return{newUserEmail:"",newUserPassword:""}},computed:Object(lt["a"])({},Object(b["b"])({user:"getUserProfile"})),methods:{updateUserData:function(){console.log("this.user",this.user),this.user&&(this.newUserEmail&&""!=this.newUserEmail&&(this.user.addressInvoice.email=this.newUserEmail,this.$store.state.user.email=this.newUserEmail,this.$store.state.password=this.newUserPassword,this.$parent.orderParams.order.user.email=this.newUserEmail),this.$parent.orderParams.order.addresses={invoiceAddress:this.user.addressInvoice}),this.$parent.updateOrder(),console.log("this.user.addressInvoice",this.user.addressInvoice),this.user&&null!=this.user&&this.user.addressInvoice&&this.user.addressInvoice.nameFirst&&this.user.addressInvoice.nameLast&&this.$store.state.user&&this.$store.state.user.profile&&this.$store.state.user.profile.addressInvoice.nameFirst&&this.$store.state.user.profile.addressInvoice.nameLast&&(this.$store.state.user.profile.addressInvoice.nameFirst!=this.user.addressInvoice.nameFirst&&(this.$store.state.user.profile.addressInvoice.nameFirst=this.user.addressInvoice.nameFirst),this.$store.state.user.profile.addressInvoice.nameLast!=this.user.addressInvoice.nameLast&&(this.$store.state.user.profile.addressInvoice.nameLast=this.user.addressInvoice.nameLast));var e={addresses:[]};e.addresses.push(this.user.addressInvoice)}},created:function(){}},dt=ct,ut=(s("b41b"),Object(v["a"])(dt,nt,ot,!1,null,null,null)),mt=ut.exports,vt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orderDeliveryPayment"},[s("h2",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("Delivery Payment")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.updateDeliveryPaymentData(t)}}},[s("div",[s("h3",{staticClass:"title is-3 has-text-left",attrs:{translate:"yes"}},[e._v("Delivery")]),e.$store.state.order.order.settings.deliveryMethodsTypes&&Object.keys(e.$store.state.order.order.settings.deliveryMethodsTypes).length>0?s("div",{staticClass:"deliveryType"},e._l(Object.keys(e.$store.state.order.order.settings.deliveryMethodsTypes),function(t,a){return s("div",{key:a,staticClass:"control"},[e.$store.state.cart&&e.$store.state.cart.cartItemTypology&&e.$store.state.cart.cartItemTypology.subtypes.indexOf(t)>-1?s("div",[s("h4",{staticClass:"title is-4 has-text-left"},[s("span",[e._v(e._s(t))]),s("span",{attrs:{translate:"yes"}},[e._v("goods")])]),e._l(e.$store.state.order.order.settings.deliveryMethodsTypes[t],function(a,r){return s("div",{key:r},[s("label",{staticClass:"radio-button"},[s("input",{attrs:{type:"radio",name:"type-"+t},domProps:{value:a.codename,checked:e.$parent.orderParams.order.data.deliveryData&&e.$parent.orderParams.order.data.deliveryData.codename[t]&&e.$parent.orderParams.order.data.deliveryData.codename[t]==a.codename},on:{click:function(s){return e.setDelivery(t,a.codename)}}}),e._v("\n                "+e._s(a.name[e.$store.state.language.code])+" ("+e._s(a.prices[0].price)+" "+e._s(e.$store.state.currency.symbol)+")\n              ")])])})],2):e._e()])}),0):e._e()]),e.$store.state.cart&&e.$store.state.cart.cartItemTypology&&e.$store.state.cart.cartItemTypology.subtypes.indexOf("physical")>-1?s("div",{staticClass:"deliveryAddressBlock"},[s("label",{staticClass:"blockLabel"},[s("span",{attrs:{translate:"yes"}},[e._v("Use custom delivery address")]),e._v("  "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.showDeliveryAddress,expression:"showDeliveryAddress"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showDeliveryAddress)?e._i(e.showDeliveryAddress,null)>-1:e.showDeliveryAddress},on:{change:function(t){var s=e.showDeliveryAddress,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.showDeliveryAddress=s.concat([i])):n>-1&&(e.showDeliveryAddress=s.slice(0,n).concat(s.slice(n+1)))}else e.showDeliveryAddress=r}}})]),e.showDeliveryAddress?s("div",{staticClass:"deliveryAddressWrapper is-clearfix"},[e.$store.state.user.profile.addressesDelivery&&e.$store.state.user.profile.addressesDelivery.length>0?s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field for-select"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Previously used addresses:")]),s("select",{staticClass:"select",on:{change:e.fillWithSelectedDeliveryAddress}},[s("option",{attrs:{value:"",translate:"yes"}},[e._v("Please select")]),e._l(e.$store.state.user.profile.addressesDelivery,function(t,a){return s("option",{key:a,domProps:{value:a}},[e._v("\n                  "+e._s(t.street)+", "+e._s(t.zip)+"\n                ")])})],2)])])]):e._e(),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("First Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.nameFirst,expression:"deliveryAddress.nameFirst"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"First Name"},domProps:{value:e.deliveryAddress.nameFirst},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"nameFirst",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Last Name")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.nameLast,expression:"deliveryAddress.nameLast"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Last Name"},domProps:{value:e.deliveryAddress.nameLast},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"nameLast",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Street")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.street,expression:"deliveryAddress.street"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Street"},domProps:{value:e.deliveryAddress.street},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"street",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Street 2")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.street2,expression:"deliveryAddress.street2"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Street 2"},domProps:{value:e.deliveryAddress.street2},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"street2",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-4"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("ZIP")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.zip,expression:"deliveryAddress.zip"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"ZIP"},domProps:{value:e.deliveryAddress.zip},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"zip",t.target.value)}}})])])]),s("div",{staticClass:"column is-8"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("City")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.city,expression:"deliveryAddress.city"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"City"},domProps:{value:e.deliveryAddress.city},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"city",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("State")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.state,expression:"deliveryAddress.state"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"State"},domProps:{value:e.deliveryAddress.state},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"state",t.target.value)}}})])])]),s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Country")]),s("div",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.country,expression:"deliveryAddress.country"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Country"},domProps:{value:e.deliveryAddress.country},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"country",t.target.value)}}})])])])]),s("div",{staticClass:"columns is-variable is-1 is-centered"},[s("div",{staticClass:"column is-6"},[s("div",{staticClass:"field"},[s("label",{staticClass:"label",attrs:{translate:"yes"}},[e._v("Phone")]),s("div",{staticClass:"control is-clearfix"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryAddress.phone,expression:"deliveryAddress.phone"}],staticClass:"input",attrs:{type:"text",translate:"yes",placeholder:"Phone"},domProps:{value:e.deliveryAddress.phone},on:{input:function(t){t.target.composing||e.$set(e.deliveryAddress,"phone",t.target.value)}}})])])])])]):e._e()]):e._e(),s("div",[s("h3",{staticClass:"title is-3 has-text-left",attrs:{translate:"yes"}},[e._v("Payment")]),e.$store.state.order.order.settings.paymentMethods&&Object.keys(e.$store.state.order.order.settings.paymentMethods).length>0?s("div",{staticClass:"paymentType"},e._l(e.$store.state.order.order.settings.paymentMethods,function(t,a){return s("div",{key:a,staticClass:"control"},[e.$store.state.cart&&e.$store.state.cart.cartItemTypology&&(e.$store.state.cart.cartItemTypology.types.indexOf(t.type)>-1||"undefined"===typeof t.type)?s("div",{class:"payment-"+t.codename},[s("label",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.paymentData,expression:"paymentData"}],attrs:{type:"radio",name:"paymentType"},domProps:{value:t.codename,checked:e._q(e.paymentData,t.codename)},on:{change:function(s){e.paymentData=t.codename}}}),e._v("\n              "+e._s(t.name[e.$store.state.language.code])+"\n            ")])]):e._e()])}),0):e._e()]),e.$store.state.cart&&e.$store.state.cart.cartItemTypology&&e.$store.state.cart.cartItemTypology.types.indexOf("subscription")>-1?s("div",{staticClass:"subscriptionBlock"},[s("label",[s("span",{attrs:{translate:"yes"}},[e._v("Renew my subscription")]),e._v("  "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.renewSubscription,expression:"renewSubscription"}],staticClass:"checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.renewSubscription)?e._i(e.renewSubscription,null)>-1:e.renewSubscription},on:{change:function(t){var s=e.renewSubscription,a=t.target,r=!!a.checked;if(Array.isArray(s)){var i=null,n=e._i(s,i);a.checked?n<0&&(e.renewSubscription=s.concat([i])):n>-1&&(e.renewSubscription=s.slice(0,n).concat(s.slice(n+1)))}else e.renewSubscription=r}}})])]):e._e(),s("button",{staticClass:"button is-success"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e._v("   \n      "),s("span",{attrs:{translate:"yes"}},[e._v("Set delivery and payment")])],1)])])},pt=[],ft=void 0,ht={name:"OrderDeliveryPayment",data:function(){return{deliveryData:{physical:null,digital:null},paymentData:null,showDeliveryAddress:!1,deliveryAddress:{type:"delivery",nameFirst:"",nameLast:"",street:"",street2:"",zip:"",city:"",state:"",country:"",phone:""}}},computed:{},created:function(){this.$parent&&this.$parent.orderParams&&(this.$parent.orderParams.order.data&&(this.$parent.orderParams.order.data.deliveryData&&this.$parent.orderParams.order.data.deliveryData.codename&&(this.deliveryData=this.$parent.orderParams.order.data.deliveryData.codename),this.$parent.orderParams.order.data.paymentData&&this.$parent.orderParams.order.data.paymentData.codename&&(this.paymentData=this.$parent.orderParams.order.data.paymentData.codename)),this.$parent.orderParams.order.addresses&&this.$parent.orderParams.order.addresses.deliveryAddress&&(this.deliveryAddress=this.$parent.orderParams.order.addresses.deliveryAddress))},methods:{updateDeliveryPaymentData:function(){this.showDeliveryAddress&&(this.$parent.orderParams.order.addresses||(this.$parent.orderParams.order.addresses={}),this.$parent.orderParams.order.addresses.deliveryAddress||(this.$parent.orderParams.order.addresses.deliveryAddress=[]),this.$parent.orderParams.order.addresses.deliveryAddress=this.deliveryAddress),this.$parent.orderParams.order.data||(this.$parent.orderParams.order.data={}),this.deliveryData&&null!=this.deliveryData&&(this.$parent.orderParams.order.data.deliveryData||(this.$parent.orderParams.order.data.deliveryData={codename:null}),this.$parent.orderParams.order.data.deliveryData.codename=this.deliveryData),this.paymentData&&null!=this.paymentData&&(this.$parent.orderParams.order.data.paymentData||(this.$parent.orderParams.order.data.paymentData={codename:null}),this.$parent.orderParams.order.data.paymentData.codename=this.paymentData),this.$parent.updateOrder()},checkIfDeliveryAddressExists:function(){if(!ft.$parent.orderParams.order.addresses.deliveryAddress&&ft.$parent.orderParams.order.addresses.deliveryAddress.length>0){var e=JSON.stringify(deliveryAddress);ft.$parent.orderParams.order.addresses.deliveryAddress.forEach(function(t){var s=JSON.stringify(t);if(s==e)return!0})}return!1},fillWithSelectedDeliveryAddress:function(e){e.target.value&&""!=e.target.value&&e.target.value>-1&&(this.deliveryAddress=this.$store.state.user.profile.addressesDelivery[e.target.value])},showDeliveryTypeByCartItems:function(e,t){},showPaymentTypeByCartItems:function(e,t){},setDelivery:function(e,t){console.log(e,t,this.deliveryData),this.deliveryData[e]=t}}},gt=ht,yt=(s("4b7e"),Object(v["a"])(gt,vt,pt,!1,null,null,null)),Ct=yt.exports,bt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"summary"}},[s("h2",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("Summary")]),s("form",{on:{submit:function(t){return t.preventDefault(),e.submitOrder(t)}}},[e._m(0),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("label",{staticClass:"checkbox"},[s("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.setConfirmationDate(t)}}}),s("span",{attrs:{translate:"yes"}},[e._v("I agree to the")]),s("a",{attrs:{href:"#",translate:"yes"}},[e._v("terms and conditions")])])])]),s("button",{staticClass:"button is-success"},[s("font-awesome-icon",{attrs:{icon:"check"}}),e._v("   \n      Submit order\n    ")],1)])])},_t=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12",attrs:{translate:"yes"}},[e._v("\n        This would be your order:\n      ")])])}],$t={name:"OrderDeliveryPayment",data:function(){return{userConfirmation:null}},methods:{submitOrder:function(){this.$parent.orderParams.order.dates.userConfirmation=this.userConfirmation,this.$parent.updateOrder()},setConfirmationDate:function(e){if(e.target.checked){var t=new Date;this.userConfirmation=t.getTime()}}}},Pt=$t,xt=Object(v["a"])(Pt,bt,_t,!1,null,null,null),wt=xt.exports,At=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",{staticClass:"title is-2",attrs:{translate:"yes"}},[e._v("Order Finished")]),s("div",{staticClass:"columns is-variable is-2"},[s("div",{staticClass:"column is-12"},[s("p",[s("span",{attrs:{translate:"yes"}},[e._v("Thank you for your order. ID of your order is")]),s("strong",[e._v(e._s(e.$parent.orderParams.order._id))]),e._v(", \n          "),s("span",{attrs:{translate:"yes"}},[e._v("we've sent you email about it.")])]),"online"==this.$parent.orderParams.order.data.paymentData.codename?s("div",[s("div",{attrs:{id:"payment-braintree-dropin-container"}}),s("button",{staticClass:"button is-primary",attrs:{id:"payment-braintree-payment-button",translate:"yes"}},[e._v("Pay The order")])]):e._e()])])])},Dt=[],It={name:"OrderFinished",data:function(){return{}},mounted:function(){if("online"==this.$parent.orderParams.order.data.paymentData.codename){var e=document.createElement("script"),t=this;e.onload=function(){t.paymentBraintreeLoaded()},e.setAttribute("src","https://js.braintreegateway.com/web/dropin/1.16.0/js/dropin.min.js"),e.async=!0,document.head.appendChild(e)}},methods:{paymentBraintreeLoaded:function(){var e=this.$el.querySelector("#payment-braintree-payment-button"),t=this;this.$httpc.get("/users/btut",{timeout:5e3}).then(function(s){s.data&&s.data.result&&"success"===s.data.result&&s.data.token&&braintree.dropin.create({authorization:s.data.token,container:"#payment-braintree-dropin-container",paypal:{flow:"checkout"}},function(s,a){console.log(s,a),e.addEventListener("click",function(){a.requestPaymentMethod(function(e,s){console.log("----- braintree payload -----"),console.log(s),t.$httpc.post("/order/btcheckout",{orderId:t.$parent.orderParams.order._id,checkoutData:s},{timeout:5e3}).then(function(e){console.log("---- braintree transaction response ----"),console.log(s)})})})})}).catch(function(e){return console.log(e),null}).then(function(){return null}),console.log("xxxy")}}},kt=It,St=Object(v["a"])(kt,At,Dt,!1,null,null,null),Ft=St.exports,Et={name:"OrderCart",components:{componentOrderUser:mt,componentOrderDeliveryPayment:Ct,componentOrderSummary:wt,componentOrderFinished:Ft},data:function(){return{itemAmount:{},orderStateNumber:1,orderParams:{},viewComponentId:null}},computed:{orderStateComponent:function(){var e=this.$store.getters.getOrder;this.orderParams=e,e&&e.result&&e.result.id&&(this.orderStateNumber=e.result.id);var t=null!=this.viewComponentId&&this.viewComponentId<=this.orderStateNumber?this.viewComponentId:this.orderStateNumber;return 2==t?Ct:3==t?wt:4==t?Ft:mt}},created:function(){this.orderParams.order&&this.orderParams.order.addresses&&this.orderParams.order.addresses.invoiceAddress||this.updateOrder(),console.log(this.orderParams)},methods:{updateOrder:function(){var e=this;console.log("orderParams: ",this.orderParams);var t={timeout:15e3};"undefined"!==typeof this.$store.state.user.token&&this.$store.state.user.token&&""!=this.$store.state.user.token.trim()&&(t["headers"]={Authorization:"Token "+this.$store.state.user.token}),this.viewComponentId=null,this.$httpc.post("order/progress",{orderParams:"undefined"!==typeof this.orderParams.order?this.orderParams.order:this.orderParams},t).then(function(t){if(t.data&&t.data.order){if(t.data.order&&t.data.order.user&&t.data.order.user.token){e.$store.state.user.logged=!0,e.$store.state.user.token=t.data.order.user.token,e.$store.state.user.token=t.data.order.user.token,e.$store.state.cart.user=t.data.order.user.id,e.orderStateNumber=t.data.result.id;var s={addressInvoice:t.data.order.addresses.invoiceAddress,addressDelivery:[],email:t.data.order.user.email,username:t.data.order.user.email};sessionStorage.setItem("token",t.data.order.user.token),e.$httpc.defaults.headers.common["Authorization"]="Token "+t.data.order.user.token,delete t.data.order.user.token,e.$store.dispatch("setUser",s),e.$forceUpdate()}"saved"!=t.data.order.status&&"sent"!=t.data.order.status||(e.$store.dispatch("setCart",null),t.data.result.id=4),e.$store.dispatch("setOrder",t.data),console.log("response.data:",t.data),console.log(e.$store.state.order.order),t.data.result.id&&t.data.result.id>1&&(e.orderStateNumber=t.data.result.id)}}).catch(function(e){console.log(e)}).then(function(){})},updateCartItemAmount:function(e){var t=this;this.$httpc.post("cart",{itemId:e,amount:parseInt(this.itemAmount[e])}).then(function(e){e.data&&t.$store.dispatch("setCart",e.data)}).catch(function(e){return console.log(e),null}).then(function(){return null})},clearCart:function(e){var t=this;e="undefined"!==typeof e?e:null;var s=null;s=null!=e&&""!=e.toString().trim()?this.$httpc.delete("cart?itemId="+e):this.$httpc.delete("cart"),s.then(function(e){console.log(e.data),e.data&&t.$store.dispatch("setCart",e.data)}).catch(function(e){return console.log(e),null}).then(function(){return null})},getStateClass:function(e){return e==this.orderStateNumber?"has-text-danger":""},setViewCoponentId:function(e){this.viewComponentId=e,this.$forceUpdate()}}},Nt=Et,Ut=(s("4f16"),Object(v["a"])(Nt,rt,it,!1,null,null,null)),Lt=Ut.exports,Mt="/"+P.state.language.code,Tt="/:lang",Ot=[{path:"/",redirect:Mt},{path:Tt+"/",name:"homepage",component:k},{path:Tt+"/login",name:"login",component:L},{path:Tt+"/register",name:"register",component:R},{path:Tt+"/user",name:"me",component:ue},{path:Tt+"/user/reset",name:"reset",component:Pe},{path:Tt+"/user/verify/:id/:hash",name:"verify",component:ge},{path:Tt+"/products",name:"productsHome",component:Xe},{path:Tt+"/services",name:"servicesHome",component:Xe},{path:Tt+"/category/:category",name:"categoryList",component:Xe},{path:Tt+"/category/:category/product/:product",name:"productDetail",component:at},{path:Tt+"/cart",name:"cart",component:Lt}],qt=s("bc3a"),jt=s.n(qt);console.log("production");var Rt=jt.a.create({baseURL:"/api/",timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0}),Bt=s("ecee"),zt=s("c074"),Vt=s("ad3d"),Gt=(s("7f7f"),{checkIfObjectInArray:function(e,t){if(e&&null!=e&&t&&t instanceof Array&&t.length>0)for(var s=0;s<t.length;s++)if(JSON.stringify(t[s])==JSON.stringify(e))return e;return null},decorateFormField:function(e,t,s){if(t&&null!=t){var a="exclamation-circle";switch(s){case"success":a="check","isGreen";break;case"warning":a="exclamation-triangle","isYellow";break}var r=e.querySelector(".control");if(r&&null!=r){r.className+=" has-icons-right",r.querySelector(".input").className+=" is-"+s;var i=document.createElement("span");i.className="icon is-right has-text-"+s,i.innerHTML='<i class="fa fa-'+a+'"></i>',r.appendChild(i)}var n=document.createElement("p");n.className="help is-"+s,n.innerHTML=t,e.appendChild(n)}},undecorateFormField:function(e,t){var s=e.querySelector(".control");if(s&&null!=s){s.classList.remove("has-icons-right"),s.querySelector(".input").classList.remove("is-"+t);var a=s.querySelector("span.icon.is-right.has-text-"+t);a&&null!=a&&(console.log(a),s.removeChild(a))}var r=e.querySelector("p.help.is-"+t);r&&null!=r&&e.removeChild(r)},stringChunk:function(e,t){t="undefined"===typeof t?2:t;var s="";if(e.length>0){for(var a=[],r="",i=0;i<e.length;i+=t)r=e.substring(i,i+t),""!=r.trim()&&a.push(r);a.length&&(s=a.join("/"))}else s=e;return s},formUndecorateAndDecorateFields:function(e,t){var s=this;e.forEach(function(e){var t=document.querySelector(".field."+e);t&&s.undecorateFormField(t,"danger")}),Object.keys(t).forEach(function(e){var a=document.querySelector(".field."+t[e].name);if(a){var r=a.querySelector('.form-messages .form-message[data-message="'+t[e].action+'"]');if(r&&null!=r){var i=r.innerText;s.decorateFormField(a,i,"danger")}}})},showFormFieldErrorsFromErrorResponse:function(e){var t=[],s=[];Object.keys(e).forEach(function(a){var r=a,i=e[a];t.push(a),s.push({name:r,action:i})}),t.length>0&&this.formUndecorateAndDecorateFields(t,s)}});Bt["d"].add(zt["i"],zt["c"],zt["e"],zt["d"],zt["f"],zt["g"],zt["h"],zt["d"],zt["a"],zt["b"]),Bt["b"].watch(),a["default"].component("font-awesome-icon",Vt["a"]),a["default"].config.productionTip=!1,a["default"].use(r["a"]),a["default"].use(n.a,{defaultIconPack:"fa"});var Ht={install:function(){a["default"].helpers=Gt,a["default"].prototype.$helpers=Gt}};a["default"].use(Ht),a["default"].config.productionTip=!1,a["default"].prototype.$httpc=Rt;var Zt=new r["a"]({mode:"history",routes:Ot}),Jt=new a["default"]({render:function(e){return e(C)},router:Zt,store:P,data:function(){return{loadingIsShowing:!1,loadingIsFullPage:!0,loadingComponent:null}},created:function(){var e=this,t=null,s=!1,a=null;t=localStorage.getItem("token"),null==t?t=sessionStorage.getItem("token"):s=!0,null!=t&&(this.$httpc.defaults.headers.common["Authorization"]="Token "+t),this.$httpc.get("/coredata?transLang="+this.$store.getters.getLanguage).then(function(r){if(r.data){var i=r.data.user;delete r.data.user,a=r.data.translation,delete r.data.translation,e.$store.dispatch("setCoreData",r.data),i&&(e.$store.dispatch("setUser",i),t&&null!==t&&""!==t.toString().trim()?(e.$store.state.user.logged=!0,e.$store.state.user.token=t,e.$store.state.user.remember=s):(e.$store.state.user.logged=!1,e.$store.state.user.token=null,e.$store.state.user.remember=!1)),a&&null!=a&&e.$store.dispatch("setTranslates",a)}}).catch(function(e){console.log(e)}).then(function(){e.manageLanguageFirstTime(),e.$nextTick(function(){this.$children[0].translateContent(e.$store.getters.getTranslates)})})},methods:{manageLanguageFirstTime:function(){var e=this,t=e.$store.state.language.code,s=window.location.pathname.split("/");if(s&&s.length>1&&(t=s[1],s[1]),window.navigator.languages&&window.navigator.languages.length>0||window.navigator.language||window.navigator.userLanguage){var a=window.navigator.language;if(window.navigator.languages&&window.navigator.languages.length>0){var r=window.navigator.languages[0].split("-");r.length>0&&(a=r[0])}else window.navigator.userLanguage&&(a=window.navigator.userLanguage);t=a}var i=localStorage.getItem("language");if(i&&e.$store&&e.$store.state.coredata&&null!=e.$store.state.coredata){var n=e.$helpers.checkIfObjectInArray(i,e.$store.state.coredata.langs);null!=n&&(t=i)}e.$store.state.user&&e.$store.state.user.profile&&e.$store.state.user.profile.settings&&e.$store.state.user.profile.settings.language&&(t=e.$store.state.user.profile.settings.language),e.$store.dispatch("setLanguage",t),localStorage.setItem("language",t)},loadingShow:function(){this.loadingComponent=this.$loading.open({container:this.loadingIsFullPage?null:this.$refs.element.$el})},loadingClose:function(){this.loadingComponent&&this.loadingComponent.close()}}}).$mount("#app");Zt.beforeEach(function(e,t,s){var a=e.fullPath.split("/");if(a.length>1&&a[1]!=Jt.$store.state.language.code&&a.length>0){var r=t.fullPath.split("/"),i=Jt.$store.state.language.code;if(r.length>1&&(i=r[1]),i!==Jt.$store.state.language.code){a[1]=Jt.$store.state.language.code;var n=a.join("/");return s({path:n})}var o=e.fullPath;return a.length>1&&(a[1]=Jt.$store.state.language.code,o=a.join("/")),s({path:o})}return s()})},"5c0b":function(e,t,s){"use strict";var a=s("5e27"),r=s.n(a);r.a},"5e27":function(e,t,s){},"66fd":function(e,t,s){"use strict";var a=s("6a88"),r=s.n(a);r.a},"6a88":function(e,t,s){},"7baa":function(e,t,s){"use strict";var a=s("2e51"),r=s.n(a);r.a},9415:function(e,t,s){},a906:function(e,t,s){"use strict";var a=s("9415"),r=s.n(a);r.a},b41b:function(e,t,s){"use strict";var a=s("1f28"),r=s.n(a);r.a},c337:function(e,t,s){},df4c:function(e,t,s){"use strict";var a=s("05fc"),r=s.n(a);r.a},f6f2:function(e,t,s){}});
//# sourceMappingURL=app.b8637966.js.map